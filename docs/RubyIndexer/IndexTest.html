<!DOCTYPE html>
<html>
  <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Ruby LSP documentation</title>

  <script type="text/javascript">
    var rdoc_rel_prefix = "../";
    var index_rel_prefix = "../";
  </script>

  <script src="../js/search_index.js" defer></script>
  <script src="../js/snapper.js" defer></script>
  <link href="../css/snapper.css" rel="stylesheet">
</head>

  <body>
    <div id="main-container">
  <nav id="nav">
  <h3 class="title">Ruby LSP documentation</h3>

  <input id="side-search" type="text" placeholder="Search docs (CMD/CTRL + K)"></input>

  <ul id="navigation-list">
    <li id="getting-started"><a href="../index.html">Getting started</a></li>
    <p class="separator">PAGES</p>
    <li class="index-entry">
  <a href="../ADDONS_md.html">
    ADDONS
  </a>
</li>
<li class="index-entry">
  <a href="../CODE_OF_CONDUCT_md.html">
    CODE_OF_CONDUCT
  </a>
</li>
<li class="index-entry">
  <a href="../CONTRIBUTING_md.html">
    CONTRIBUTING
  </a>
</li>
<li class="index-entry">
  <a href="../DESIGN_AND_ROADMAP_md.html">
    DESIGN_AND_ROADMAP
  </a>
</li>
<li class="index-entry">
  <a href="../EDITORS_md.html">
    EDITORS
  </a>
</li>
<li class="index-entry">
  <a href="../README_md.html">
    README
  </a>
</li>
<li class="index-entry">
  <a href="../SEMANTIC_HIGHLIGHTING_md.html">
    SEMANTIC_HIGHLIGHTING
  </a>
</li>
<li class="index-entry">
  <a href="../TROUBLESHOOTING_md.html">
    TROUBLESHOOTING
  </a>
</li>
<li class="index-entry">
  <a href="../VERSION_MANAGERS_md.html">
    VERSION_MANAGERS
  </a>
</li>

    <p class="separator">CODE</p>
    <li class="expandable-index-entry">
  <details>
    <summary><a href="../RuboCop.html">RuboCop</a></summary>
    <ul>
      <li class="expandable-index-entry">
  <details>
    <summary><a href="../RuboCop/Cop.html">Cop</a></summary>
    <ul>
      <li class="expandable-index-entry">
  <details>
    <summary><a href="../RuboCop/Cop/RubyLsp.html">RubyLsp</a></summary>
    <ul>
      <li class="index-entry"><a href="../RuboCop/Cop/RubyLsp/UseLanguageServerAliases.html">UseLanguageServerAliases</a></li><li class="index-entry"><a href="../RuboCop/Cop/RubyLsp/UseRegisterWithHandlerMethod.html">UseRegisterWithHandlerMethod</a></li>
    </ul>
  </details>
</li>

    </ul>
  </details>
</li>

    </ul>
  </details>
</li>
<li class="expandable-index-entry">
  <details>
    <summary><a href="../RubyIndexer.html">RubyIndexer</a></summary>
    <ul>
      <li class="index-entry"><a href="../RubyIndexer/ClassesAndModulesTest.html">ClassesAndModulesTest</a></li><li class="index-entry"><a href="../RubyIndexer/Configuration.html">Configuration</a></li><li class="index-entry"><a href="../RubyIndexer/ConfigurationTest.html">ConfigurationTest</a></li><li class="index-entry"><a href="../RubyIndexer/ConstantTest.html">ConstantTest</a></li><li class="index-entry"><a href="../RubyIndexer/DeclarationListener.html">DeclarationListener</a></li><li class="expandable-index-entry">
  <details>
    <summary><a href="../RubyIndexer/Entry.html">Entry</a></summary>
    <ul>
      <li class="index-entry"><a href="../RubyIndexer/Entry/Accessor.html">Accessor</a></li><li class="index-entry"><a href="../RubyIndexer/Entry/Alias.html">Alias</a></li><li class="index-entry"><a href="../RubyIndexer/Entry/BlockParameter.html">BlockParameter</a></li><li class="index-entry"><a href="../RubyIndexer/Entry/Class.html">Class</a></li><li class="index-entry"><a href="../RubyIndexer/Entry/Constant.html">Constant</a></li><li class="index-entry"><a href="../RubyIndexer/Entry/Include.html">Include</a></li><li class="index-entry"><a href="../RubyIndexer/Entry/InstanceVariable.html">InstanceVariable</a></li><li class="index-entry"><a href="../RubyIndexer/Entry/KeywordParameter.html">KeywordParameter</a></li><li class="index-entry"><a href="../RubyIndexer/Entry/KeywordRestParameter.html">KeywordRestParameter</a></li><li class="index-entry"><a href="../RubyIndexer/Entry/Member.html">Member</a></li><li class="index-entry"><a href="../RubyIndexer/Entry/Method.html">Method</a></li><li class="index-entry"><a href="../RubyIndexer/Entry/MethodAlias.html">MethodAlias</a></li><li class="index-entry"><a href="../RubyIndexer/Entry/Module.html">Module</a></li><li class="index-entry"><a href="../RubyIndexer/Entry/ModuleOperation.html">ModuleOperation</a></li><li class="index-entry"><a href="../RubyIndexer/Entry/Namespace.html">Namespace</a></li><li class="index-entry"><a href="../RubyIndexer/Entry/OptionalKeywordParameter.html">OptionalKeywordParameter</a></li><li class="index-entry"><a href="../RubyIndexer/Entry/OptionalParameter.html">OptionalParameter</a></li><li class="index-entry"><a href="../RubyIndexer/Entry/Parameter.html">Parameter</a></li><li class="index-entry"><a href="../RubyIndexer/Entry/Prepend.html">Prepend</a></li><li class="index-entry"><a href="../RubyIndexer/Entry/RequiredParameter.html">RequiredParameter</a></li><li class="index-entry"><a href="../RubyIndexer/Entry/RestParameter.html">RestParameter</a></li><li class="index-entry"><a href="../RubyIndexer/Entry/Signature.html">Signature</a></li><li class="index-entry"><a href="../RubyIndexer/Entry/SingletonClass.html">SingletonClass</a></li><li class="index-entry"><a href="../RubyIndexer/Entry/UnresolvedAlias.html">UnresolvedAlias</a></li><li class="index-entry"><a href="../RubyIndexer/Entry/UnresolvedMethodAlias.html">UnresolvedMethodAlias</a></li><li class="index-entry"><a href="../RubyIndexer/Entry/Visibility.html">Visibility</a></li>
    </ul>
  </details>
</li>
<li class="expandable-index-entry">
  <details>
    <summary><a href="../RubyIndexer/Index.html">Index</a></summary>
    <ul>
      <li class="index-entry"><a href="../RubyIndexer/Index/NonExistingNamespaceError.html">NonExistingNamespaceError</a></li><li class="index-entry"><a href="../RubyIndexer/Index/UnresolvableAliasError.html">UnresolvableAliasError</a></li>
    </ul>
  </details>
</li>
<li class="index-entry"><a href="../RubyIndexer/IndexTest.html">IndexTest</a></li><li class="index-entry"><a href="../RubyIndexer/IndexablePath.html">IndexablePath</a></li><li class="index-entry"><a href="../RubyIndexer/InstanceVariableTest.html">InstanceVariableTest</a></li><li class="index-entry"><a href="../RubyIndexer/Location.html">Location</a></li><li class="index-entry"><a href="../RubyIndexer/MethodTest.html">MethodTest</a></li><li class="expandable-index-entry">
  <details>
    <summary><a href="../RubyIndexer/PrefixTree.html">PrefixTree</a></summary>
    <ul>
      <li class="index-entry"><a href="../RubyIndexer/PrefixTree/Node.html">Node</a></li>
    </ul>
  </details>
</li>
<li class="index-entry"><a href="../RubyIndexer/PrefixTreeTest.html">PrefixTreeTest</a></li><li class="index-entry"><a href="../RubyIndexer/RBSIndexer.html">RBSIndexer</a></li><li class="index-entry"><a href="../RubyIndexer/RBSIndexerTest.html">RBSIndexerTest</a></li><li class="index-entry"><a href="../RubyIndexer/TestCase.html">TestCase</a></li>
    </ul>
  </details>
</li>
<li class="expandable-index-entry">
  <details>
    <summary><a href="../RubyLsp.html">RubyLsp</a></summary>
    <ul>
      <li class="index-entry"><a href="../RubyLsp/Addon.html">Addon</a></li><li class="index-entry"><a href="../RubyLsp/BaseServer.html">BaseServer</a></li><li class="index-entry"><a href="../RubyLsp/CheckDocs.html">CheckDocs</a></li><li class="expandable-index-entry">
  <details>
    <summary><a href="../RubyLsp/Document.html">Document</a></summary>
    <ul>
      <li class="index-entry"><a href="../RubyLsp/Document/LanguageId.html">LanguageId</a></li><li class="index-entry"><a href="../RubyLsp/Document/Scanner.html">Scanner</a></li>
    </ul>
  </details>
</li>
<li class="expandable-index-entry">
  <details>
    <summary><a href="../RubyLsp/ERBDocument.html">ERBDocument</a></summary>
    <ul>
      <li class="index-entry"><a href="../RubyLsp/ERBDocument/ERBScanner.html">ERBScanner</a></li>
    </ul>
  </details>
</li>
<li class="index-entry"><a href="../RubyLsp/Error.html">Error</a></li><li class="index-entry"><a href="../RubyLsp/GlobalState.html">GlobalState</a></li><li class="index-entry"><a href="../RubyLsp/InlineTypeAssertions.html">InlineTypeAssertions</a></li><li class="expandable-index-entry">
  <details>
    <summary><a href="../RubyLsp/Listeners.html">Listeners</a></summary>
    <ul>
      <li class="index-entry"><a href="../RubyLsp/Listeners/CodeLens.html">CodeLens</a></li><li class="index-entry"><a href="../RubyLsp/Listeners/Completion.html">Completion</a></li><li class="index-entry"><a href="../RubyLsp/Listeners/Definition.html">Definition</a></li><li class="index-entry"><a href="../RubyLsp/Listeners/DocumentHighlight.html">DocumentHighlight</a></li><li class="index-entry"><a href="../RubyLsp/Listeners/DocumentLink.html">DocumentLink</a></li><li class="index-entry"><a href="../RubyLsp/Listeners/DocumentSymbol.html">DocumentSymbol</a></li><li class="index-entry"><a href="../RubyLsp/Listeners/FoldingRanges.html">FoldingRanges</a></li><li class="index-entry"><a href="../RubyLsp/Listeners/Hover.html">Hover</a></li><li class="index-entry"><a href="../RubyLsp/Listeners/InlayHints.html">InlayHints</a></li><li class="index-entry"><a href="../RubyLsp/Listeners/SemanticHighlighting.html">SemanticHighlighting</a></li><li class="index-entry"><a href="../RubyLsp/Listeners/SignatureHelp.html">SignatureHelp</a></li>
    </ul>
  </details>
</li>
<li class="index-entry"><a href="../RubyLsp/Message.html">Message</a></li><li class="index-entry"><a href="../RubyLsp/NodeContext.html">NodeContext</a></li><li class="index-entry"><a href="../RubyLsp/Notification.html">Notification</a></li><li class="index-entry"><a href="../RubyLsp/ParameterScope.html">ParameterScope</a></li><li class="index-entry"><a href="../RubyLsp/Request.html">Request</a></li><li class="index-entry"><a href="../RubyLsp/RequestConfig.html">RequestConfig</a></li><li class="expandable-index-entry">
  <details>
    <summary><a href="../RubyLsp/Requests.html">Requests</a></summary>
    <ul>
      <li class="expandable-index-entry">
  <details>
    <summary><a href="../RubyLsp/Requests/CodeActionResolve.html">CodeActionResolve</a></summary>
    <ul>
      <li class="index-entry"><a href="../RubyLsp/Requests/CodeActionResolve/CodeActionError.html">CodeActionError</a></li><li class="index-entry"><a href="../RubyLsp/Requests/CodeActionResolve/Error.html">Error</a></li>
    </ul>
  </details>
</li>
<li class="index-entry"><a href="../RubyLsp/Requests/CodeActions.html">CodeActions</a></li><li class="index-entry"><a href="../RubyLsp/Requests/CodeLens.html">CodeLens</a></li><li class="index-entry"><a href="../RubyLsp/Requests/Completion.html">Completion</a></li><li class="index-entry"><a href="../RubyLsp/Requests/CompletionResolve.html">CompletionResolve</a></li><li class="index-entry"><a href="../RubyLsp/Requests/Definition.html">Definition</a></li><li class="index-entry"><a href="../RubyLsp/Requests/Diagnostics.html">Diagnostics</a></li><li class="index-entry"><a href="../RubyLsp/Requests/DocumentHighlight.html">DocumentHighlight</a></li><li class="index-entry"><a href="../RubyLsp/Requests/DocumentLink.html">DocumentLink</a></li><li class="index-entry"><a href="../RubyLsp/Requests/DocumentSymbol.html">DocumentSymbol</a></li><li class="index-entry"><a href="../RubyLsp/Requests/FoldingRanges.html">FoldingRanges</a></li><li class="expandable-index-entry">
  <details>
    <summary><a href="../RubyLsp/Requests/Formatting.html">Formatting</a></summary>
    <ul>
      <li class="index-entry"><a href="../RubyLsp/Requests/Formatting/Error.html">Error</a></li>
    </ul>
  </details>
</li>
<li class="index-entry"><a href="../RubyLsp/Requests/Hover.html">Hover</a></li><li class="index-entry"><a href="../RubyLsp/Requests/InlayHints.html">InlayHints</a></li><li class="index-entry"><a href="../RubyLsp/Requests/OnTypeFormatting.html">OnTypeFormatting</a></li><li class="index-entry"><a href="../RubyLsp/Requests/PrepareTypeHierarchy.html">PrepareTypeHierarchy</a></li><li class="expandable-index-entry">
  <details>
    <summary><a href="../RubyLsp/Requests/Request.html">Request</a></summary>
    <ul>
      <li class="index-entry"><a href="../RubyLsp/Requests/Request/InvalidFormatter.html">InvalidFormatter</a></li>
    </ul>
  </details>
</li>
<li class="index-entry"><a href="../RubyLsp/Requests/SelectionRanges.html">SelectionRanges</a></li><li class="index-entry"><a href="../RubyLsp/Requests/SemanticHighlighting.html">SemanticHighlighting</a></li><li class="index-entry"><a href="../RubyLsp/Requests/ShowSyntaxTree.html">ShowSyntaxTree</a></li><li class="index-entry"><a href="../RubyLsp/Requests/SignatureHelp.html">SignatureHelp</a></li><li class="expandable-index-entry">
  <details>
    <summary><a href="../RubyLsp/Requests/Support.html">Support</a></summary>
    <ul>
      <li class="index-entry"><a href="../RubyLsp/Requests/Support/Annotation.html">Annotation</a></li><li class="index-entry"><a href="../RubyLsp/Requests/Support/Common.html">Common</a></li><li class="index-entry"><a href="../RubyLsp/Requests/Support/Formatter.html">Formatter</a></li><li class="index-entry"><a href="../RubyLsp/Requests/Support/InternalRuboCopError.html">InternalRuboCopError</a></li><li class="index-entry"><a href="../RubyLsp/Requests/Support/RuboCopDiagnostic.html">RuboCopDiagnostic</a></li><li class="index-entry"><a href="../RubyLsp/Requests/Support/RuboCopFormatter.html">RuboCopFormatter</a></li><li class="expandable-index-entry">
  <details>
    <summary><a href="../RubyLsp/Requests/Support/RuboCopRunner.html">RuboCopRunner</a></summary>
    <ul>
      <li class="index-entry"><a href="../RubyLsp/Requests/Support/RuboCopRunner/ConfigurationError.html">ConfigurationError</a></li>
    </ul>
  </details>
</li>
<li class="index-entry"><a href="../RubyLsp/Requests/Support/SelectionRange.html">SelectionRange</a></li><li class="index-entry"><a href="../RubyLsp/Requests/Support/Sorbet.html">Sorbet</a></li><li class="index-entry"><a href="../RubyLsp/Requests/Support/SyntaxTreeFormatter.html">SyntaxTreeFormatter</a></li>
    </ul>
  </details>
</li>
<li class="index-entry"><a href="../RubyLsp/Requests/TypeHierarchySupertypes.html">TypeHierarchySupertypes</a></li><li class="index-entry"><a href="../RubyLsp/Requests/WorkspaceSymbol.html">WorkspaceSymbol</a></li>
    </ul>
  </details>
</li>
<li class="expandable-index-entry">
  <details>
    <summary><a href="../RubyLsp/ResponseBuilders.html">ResponseBuilders</a></summary>
    <ul>
      <li class="index-entry"><a href="../RubyLsp/ResponseBuilders/CollectionResponseBuilder.html">CollectionResponseBuilder</a></li><li class="expandable-index-entry">
  <details>
    <summary><a href="../RubyLsp/ResponseBuilders/DocumentSymbol.html">DocumentSymbol</a></summary>
    <ul>
      <li class="index-entry"><a href="../RubyLsp/ResponseBuilders/DocumentSymbol/SymbolHierarchyRoot.html">SymbolHierarchyRoot</a></li>
    </ul>
  </details>
</li>
<li class="index-entry"><a href="../RubyLsp/ResponseBuilders/Hover.html">Hover</a></li><li class="index-entry"><a href="../RubyLsp/ResponseBuilders/ResponseBuilder.html">ResponseBuilder</a></li><li class="expandable-index-entry">
  <details>
    <summary><a href="../RubyLsp/ResponseBuilders/SemanticHighlighting.html">SemanticHighlighting</a></summary>
    <ul>
      <li class="index-entry"><a href="../RubyLsp/ResponseBuilders/SemanticHighlighting/SemanticToken.html">SemanticToken</a></li><li class="index-entry"><a href="../RubyLsp/ResponseBuilders/SemanticHighlighting/SemanticTokenEncoder.html">SemanticTokenEncoder</a></li><li class="index-entry"><a href="../RubyLsp/ResponseBuilders/SemanticHighlighting/UndefinedTokenType.html">UndefinedTokenType</a></li>
    </ul>
  </details>
</li>
<li class="index-entry"><a href="../RubyLsp/ResponseBuilders/SignatureHelp.html">SignatureHelp</a></li>
    </ul>
  </details>
</li>
<li class="index-entry"><a href="../RubyLsp/Result.html">Result</a></li><li class="index-entry"><a href="../RubyLsp/RubyDocument.html">RubyDocument</a></li><li class="index-entry"><a href="../RubyLsp/Server.html">Server</a></li><li class="expandable-index-entry">
  <details>
    <summary><a href="../RubyLsp/SetupBundler.html">SetupBundler</a></summary>
    <ul>
      <li class="index-entry"><a href="../RubyLsp/SetupBundler/BundleInstallFailure.html">BundleInstallFailure</a></li><li class="index-entry"><a href="../RubyLsp/SetupBundler/BundleNotLocked.html">BundleNotLocked</a></li>
    </ul>
  </details>
</li>
<li class="index-entry"><a href="../RubyLsp/Store.html">Store</a></li><li class="index-entry"><a href="../RubyLsp/TestHelper.html">TestHelper</a></li><li class="index-entry"><a href="../RubyLsp/TypeInferrer.html">TypeInferrer</a></li>
    </ul>
  </details>
</li>
<li class="expandable-index-entry">
  <details>
    <summary><a href="../URI.html">URI</a></summary>
    <ul>
      <li class="index-entry"><a href="../URI/Generic.html">Generic</a></li><li class="index-entry"><a href="../URI/Source.html">Source</a></li>
    </ul>
  </details>
</li>

  </ul>
</nav>


  <article>
    <h1>class RubyIndexer::IndexTest</h1>
    <section class="description"></section>

      <section id="5Buntitled-5D" class="documentation-section">



        

        
            
            
            
        
            

            <section>
              <h3 class="section-title">Public Instance Methods<hr/></h3>

                <div id="method-i-test_accessing_with_colon_colon_prefix" class="method-entry">
                  <div class="method-info">
                    <h4 class="method-name">
                      test_accessing_with_colon_colon_prefix()

                        <button type="button" class="show-source">Show source</button>
                    </h4>

                    



                  </div>

                    <pre class="method-source hidden"><span class="ruby-comment"># File lib/ruby_indexer/test/index_test.rb, line 74</span>
    <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">test_accessing_with_colon_colon_prefix</span>
      <span class="ruby-ivar">@index</span>.<span class="ruby-identifier">index_single</span>(<span class="ruby-constant">IndexablePath</span>.<span class="ruby-identifier">new</span>(<span class="ruby-keyword">nil</span>, <span class="ruby-string">&quot;/fake/path/foo.rb&quot;</span>), <span class="ruby-identifier">&lt;&lt;~RUBY</span>)
<span class="ruby-value">        class Bar; end

        module Foo
          class Bar
          end

          class Baz
            class Something
            end
          end
        end
</span><span class="ruby-identifier">      RUBY</span>

      <span class="ruby-identifier">entries</span> = <span class="ruby-ivar">@index</span>[<span class="ruby-string">&quot;::Foo::Baz::Something&quot;</span>]
      <span class="ruby-identifier">refute_empty</span>(<span class="ruby-identifier">entries</span>)
      <span class="ruby-identifier">assert_equal</span>(<span class="ruby-string">&quot;Foo::Baz::Something&quot;</span>, <span class="ruby-identifier">entries</span>.<span class="ruby-identifier">first</span>.<span class="ruby-identifier">name</span>)
    <span class="ruby-keyword">end</span></pre>
                </div>
                <div id="method-i-test_ancestors_linearization_complex_include_duplication" class="method-entry">
                  <div class="method-info">
                    <h4 class="method-name">
                      test_ancestors_linearization_complex_include_duplication()

                        <button type="button" class="show-source">Show source</button>
                    </h4>

                    



                  </div>

                    <pre class="method-source hidden"><span class="ruby-comment"># File lib/ruby_indexer/test/index_test.rb, line 596</span>
    <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">test_ancestors_linearization_complex_include_duplication</span>
      <span class="ruby-identifier">index</span>(<span class="ruby-identifier">&lt;&lt;~RUBY</span>)
<span class="ruby-value">        module A; end
        module B
          include A
        end
        module C
          include B
        end

        class Foo
          include A
          include C
        end
</span><span class="ruby-identifier">      RUBY</span>

      <span class="ruby-identifier">assert_equal</span>(
        [
          <span class="ruby-string">&quot;Foo&quot;</span>,
          <span class="ruby-string">&quot;C&quot;</span>,
          <span class="ruby-string">&quot;B&quot;</span>,
          <span class="ruby-string">&quot;A&quot;</span>,
          <span class="ruby-string">&quot;Object&quot;</span>,
          <span class="ruby-string">&quot;Kernel&quot;</span>,
          <span class="ruby-string">&quot;BasicObject&quot;</span>,
        ],
        <span class="ruby-ivar">@index</span>.<span class="ruby-identifier">linearized_ancestors_of</span>(<span class="ruby-string">&quot;Foo&quot;</span>),
      )
    <span class="ruby-keyword">end</span></pre>
                </div>
                <div id="method-i-test_ancestors_linearization_complex_prepend_duplication" class="method-entry">
                  <div class="method-info">
                    <h4 class="method-name">
                      test_ancestors_linearization_complex_prepend_duplication()

                        <button type="button" class="show-source">Show source</button>
                    </h4>

                    



                  </div>

                    <pre class="method-source hidden"><span class="ruby-comment"># File lib/ruby_indexer/test/index_test.rb, line 566</span>
    <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">test_ancestors_linearization_complex_prepend_duplication</span>
      <span class="ruby-identifier">index</span>(<span class="ruby-identifier">&lt;&lt;~RUBY</span>)
<span class="ruby-value">        module A; end
        module B
          prepend A
        end
        module C
          prepend B
        end

        class Foo
          prepend A
          prepend C
        end
</span><span class="ruby-identifier">      RUBY</span>

      <span class="ruby-identifier">assert_equal</span>(
        [
          <span class="ruby-string">&quot;A&quot;</span>,
          <span class="ruby-string">&quot;B&quot;</span>,
          <span class="ruby-string">&quot;C&quot;</span>,
          <span class="ruby-string">&quot;Foo&quot;</span>,
          <span class="ruby-string">&quot;Object&quot;</span>,
          <span class="ruby-string">&quot;Kernel&quot;</span>,
          <span class="ruby-string">&quot;BasicObject&quot;</span>,
        ],
        <span class="ruby-ivar">@index</span>.<span class="ruby-identifier">linearized_ancestors_of</span>(<span class="ruby-string">&quot;Foo&quot;</span>),
      )
    <span class="ruby-keyword">end</span></pre>
                </div>
                <div id="method-i-test_basic_object_superclass_resolution" class="method-entry">
                  <div class="method-info">
                    <h4 class="method-name">
                      test_basic_object_superclass_resolution()

                        <button type="button" class="show-source">Show source</button>
                    </h4>

                    



                  </div>

                    <pre class="method-source hidden"><span class="ruby-comment"># File lib/ruby_indexer/test/index_test.rb, line 1261</span>
    <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">test_basic_object_superclass_resolution</span>
      <span class="ruby-identifier">index</span>(<span class="ruby-identifier">&lt;&lt;~RUBY</span>)
<span class="ruby-value">        module Foo
          class BasicObject; end

          class Bar; end
          class Baz &lt; BasicObject; end
        end
</span><span class="ruby-identifier">      RUBY</span>

      <span class="ruby-identifier">assert_equal</span>([<span class="ruby-string">&quot;Foo::Bar&quot;</span>, <span class="ruby-string">&quot;Object&quot;</span>, <span class="ruby-string">&quot;Kernel&quot;</span>, <span class="ruby-string">&quot;BasicObject&quot;</span>], <span class="ruby-ivar">@index</span>.<span class="ruby-identifier">linearized_ancestors_of</span>(<span class="ruby-string">&quot;Foo::Bar&quot;</span>))
      <span class="ruby-identifier">assert_equal</span>(
        [<span class="ruby-string">&quot;Foo::Baz&quot;</span>, <span class="ruby-string">&quot;Foo::BasicObject&quot;</span>, <span class="ruby-string">&quot;Object&quot;</span>, <span class="ruby-string">&quot;Kernel&quot;</span>, <span class="ruby-string">&quot;BasicObject&quot;</span>],
        <span class="ruby-ivar">@index</span>.<span class="ruby-identifier">linearized_ancestors_of</span>(<span class="ruby-string">&quot;Foo::Baz&quot;</span>),
      )
    <span class="ruby-keyword">end</span></pre>
                </div>
                <div id="method-i-test_completion_does_not_duplicate_methods_overridden_by_aliases" class="method-entry">
                  <div class="method-info">
                    <h4 class="method-name">
                      test_completion_does_not_duplicate_methods_overridden_by_aliases()

                        <button type="button" class="show-source">Show source</button>
                    </h4>

                    



                  </div>

                    <pre class="method-source hidden"><span class="ruby-comment"># File lib/ruby_indexer/test/index_test.rb, line 1561</span>
    <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">test_completion_does_not_duplicate_methods_overridden_by_aliases</span>
      <span class="ruby-identifier">index</span>(<span class="ruby-identifier">&lt;&lt;~RUBY</span>)
<span class="ruby-value">        class Foo
          def bar; end
        end

        class Baz &lt; Foo
          alias bar to_s
        end
</span><span class="ruby-identifier">      RUBY</span>

      <span class="ruby-identifier">entries</span> = <span class="ruby-ivar">@index</span>.<span class="ruby-identifier">method_completion_candidates</span>(<span class="ruby-string">&quot;bar&quot;</span>, <span class="ruby-string">&quot;Baz&quot;</span>)
      <span class="ruby-identifier">assert_equal</span>([<span class="ruby-string">&quot;bar&quot;</span>], <span class="ruby-identifier">entries</span>.<span class="ruby-identifier">map</span>(<span class="ruby-operator">&amp;</span><span class="ruby-value">:name</span>))
      <span class="ruby-identifier">assert_equal</span>(<span class="ruby-string">&quot;Baz&quot;</span>, <span class="ruby-constant">T</span>.<span class="ruby-identifier">must</span>(<span class="ruby-identifier">entries</span>.<span class="ruby-identifier">first</span>.<span class="ruby-identifier">owner</span>).<span class="ruby-identifier">name</span>)
    <span class="ruby-keyword">end</span></pre>
                </div>
                <div id="method-i-test_completion_does_not_duplicate_overridden_methods" class="method-entry">
                  <div class="method-info">
                    <h4 class="method-name">
                      test_completion_does_not_duplicate_overridden_methods()

                        <button type="button" class="show-source">Show source</button>
                    </h4>

                    



                  </div>

                    <pre class="method-source hidden"><span class="ruby-comment"># File lib/ruby_indexer/test/index_test.rb, line 1545</span>
    <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">test_completion_does_not_duplicate_overridden_methods</span>
      <span class="ruby-identifier">index</span>(<span class="ruby-identifier">&lt;&lt;~RUBY</span>)
<span class="ruby-value">        class Foo
          def bar; end
        end

        class Baz &lt; Foo
          def bar; end
        end
</span><span class="ruby-identifier">      RUBY</span>

      <span class="ruby-identifier">entries</span> = <span class="ruby-ivar">@index</span>.<span class="ruby-identifier">method_completion_candidates</span>(<span class="ruby-string">&quot;bar&quot;</span>, <span class="ruby-string">&quot;Baz&quot;</span>)
      <span class="ruby-identifier">assert_equal</span>([<span class="ruby-string">&quot;bar&quot;</span>], <span class="ruby-identifier">entries</span>.<span class="ruby-identifier">map</span>(<span class="ruby-operator">&amp;</span><span class="ruby-value">:name</span>))
      <span class="ruby-identifier">assert_equal</span>(<span class="ruby-string">&quot;Baz&quot;</span>, <span class="ruby-constant">T</span>.<span class="ruby-identifier">must</span>(<span class="ruby-identifier">entries</span>.<span class="ruby-identifier">first</span>.<span class="ruby-identifier">owner</span>).<span class="ruby-identifier">name</span>)
    <span class="ruby-keyword">end</span></pre>
                </div>
                <div id="method-i-test_completion_does_not_include_unresolved_aliases" class="method-entry">
                  <div class="method-info">
                    <h4 class="method-name">
                      test_completion_does_not_include_unresolved_aliases()

                        <button type="button" class="show-source">Show source</button>
                    </h4>

                    



                  </div>

                    <pre class="method-source hidden"><span class="ruby-comment"># File lib/ruby_indexer/test/index_test.rb, line 1535</span>
    <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">test_completion_does_not_include_unresolved_aliases</span>
      <span class="ruby-identifier">index</span>(<span class="ruby-identifier">&lt;&lt;~RUBY</span>)
<span class="ruby-value">        class Foo
          alias_method :bar, :missing
        end
</span><span class="ruby-identifier">      RUBY</span>

      <span class="ruby-identifier">assert_empty</span>(<span class="ruby-ivar">@index</span>.<span class="ruby-identifier">method_completion_candidates</span>(<span class="ruby-string">&quot;bar&quot;</span>, <span class="ruby-string">&quot;Foo&quot;</span>))
    <span class="ruby-keyword">end</span></pre>
                </div>
                <div id="method-i-test_decorated_parameters" class="method-entry">
                  <div class="method-info">
                    <h4 class="method-name">
                      test_decorated_parameters()

                        <button type="button" class="show-source">Show source</button>
                    </h4>

                    



                  </div>

                    <pre class="method-source hidden"><span class="ruby-comment"># File lib/ruby_indexer/test/index_test.rb, line 1577</span>
    <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">test_decorated_parameters</span>
      <span class="ruby-identifier">index</span>(<span class="ruby-identifier">&lt;&lt;~RUBY</span>)
<span class="ruby-value">        class Foo
          def bar(a, b = 1, c: 2)
          end
        end
</span><span class="ruby-identifier">      RUBY</span>

      <span class="ruby-identifier">methods</span> = <span class="ruby-ivar">@index</span>.<span class="ruby-identifier">resolve_method</span>(<span class="ruby-string">&quot;bar&quot;</span>, <span class="ruby-string">&quot;Foo&quot;</span>)
      <span class="ruby-identifier">refute_nil</span>(<span class="ruby-identifier">methods</span>)

      <span class="ruby-identifier">entry</span> = <span class="ruby-constant">T</span>.<span class="ruby-identifier">must</span>(<span class="ruby-identifier">methods</span>.<span class="ruby-identifier">first</span>)

      <span class="ruby-identifier">assert_equal</span>(<span class="ruby-string">&quot;(a, b = &lt;default&gt;, c: &lt;default&gt;)&quot;</span>, <span class="ruby-identifier">entry</span>.<span class="ruby-identifier">decorated_parameters</span>)
    <span class="ruby-keyword">end</span></pre>
                </div>
                <div id="method-i-test_decorated_parameters_when_method_has_no_parameters" class="method-entry">
                  <div class="method-info">
                    <h4 class="method-name">
                      test_decorated_parameters_when_method_has_no_parameters()

                        <button type="button" class="show-source">Show source</button>
                    </h4>

                    



                  </div>

                    <pre class="method-source hidden"><span class="ruby-comment"># File lib/ruby_indexer/test/index_test.rb, line 1593</span>
    <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">test_decorated_parameters_when_method_has_no_parameters</span>
      <span class="ruby-identifier">index</span>(<span class="ruby-identifier">&lt;&lt;~RUBY</span>)
<span class="ruby-value">        class Foo
          def bar
          end
        end
</span><span class="ruby-identifier">      RUBY</span>

      <span class="ruby-identifier">methods</span> = <span class="ruby-ivar">@index</span>.<span class="ruby-identifier">resolve_method</span>(<span class="ruby-string">&quot;bar&quot;</span>, <span class="ruby-string">&quot;Foo&quot;</span>)
      <span class="ruby-identifier">refute_nil</span>(<span class="ruby-identifier">methods</span>)

      <span class="ruby-identifier">entry</span> = <span class="ruby-constant">T</span>.<span class="ruby-identifier">must</span>(<span class="ruby-identifier">methods</span>.<span class="ruby-identifier">first</span>)

      <span class="ruby-identifier">assert_equal</span>(<span class="ruby-string">&quot;()&quot;</span>, <span class="ruby-identifier">entry</span>.<span class="ruby-identifier">decorated_parameters</span>)
    <span class="ruby-keyword">end</span></pre>
                </div>
                <div id="method-i-test_deleting_all_entries_for_a_class" class="method-entry">
                  <div class="method-info">
                    <h4 class="method-name">
                      test_deleting_all_entries_for_a_class()

                        <button type="button" class="show-source">Show source</button>
                    </h4>

                    



                  </div>

                    <pre class="method-source hidden"><span class="ruby-comment"># File lib/ruby_indexer/test/index_test.rb, line 26</span>
    <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">test_deleting_all_entries_for_a_class</span>
      <span class="ruby-ivar">@index</span>.<span class="ruby-identifier">index_single</span>(<span class="ruby-constant">IndexablePath</span>.<span class="ruby-identifier">new</span>(<span class="ruby-keyword">nil</span>, <span class="ruby-string">&quot;/fake/path/foo.rb&quot;</span>), <span class="ruby-identifier">&lt;&lt;~RUBY</span>)
<span class="ruby-value">        class Foo
        end
</span><span class="ruby-identifier">      RUBY</span>

      <span class="ruby-identifier">entries</span> = <span class="ruby-ivar">@index</span>[<span class="ruby-string">&quot;Foo&quot;</span>]
      <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value">1</span>, <span class="ruby-identifier">entries</span>.<span class="ruby-identifier">length</span>)

      <span class="ruby-ivar">@index</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-constant">IndexablePath</span>.<span class="ruby-identifier">new</span>(<span class="ruby-keyword">nil</span>, <span class="ruby-string">&quot;/fake/path/foo.rb&quot;</span>))
      <span class="ruby-identifier">entries</span> = <span class="ruby-ivar">@index</span>[<span class="ruby-string">&quot;Foo&quot;</span>]
      <span class="ruby-identifier">assert_nil</span>(<span class="ruby-identifier">entries</span>)
    <span class="ruby-keyword">end</span></pre>
                </div>
                <div id="method-i-test_deleting_one_entry_for_a_class" class="method-entry">
                  <div class="method-info">
                    <h4 class="method-name">
                      test_deleting_one_entry_for_a_class()

                        <button type="button" class="show-source">Show source</button>
                    </h4>

                    



                  </div>

                    <pre class="method-source hidden"><span class="ruby-comment"># File lib/ruby_indexer/test/index_test.rb, line 8</span>
    <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">test_deleting_one_entry_for_a_class</span>
      <span class="ruby-ivar">@index</span>.<span class="ruby-identifier">index_single</span>(<span class="ruby-constant">IndexablePath</span>.<span class="ruby-identifier">new</span>(<span class="ruby-keyword">nil</span>, <span class="ruby-string">&quot;/fake/path/foo.rb&quot;</span>), <span class="ruby-identifier">&lt;&lt;~RUBY</span>)
<span class="ruby-value">        class Foo
        end
</span><span class="ruby-identifier">      RUBY</span>
      <span class="ruby-ivar">@index</span>.<span class="ruby-identifier">index_single</span>(<span class="ruby-constant">IndexablePath</span>.<span class="ruby-identifier">new</span>(<span class="ruby-keyword">nil</span>, <span class="ruby-string">&quot;/fake/path/other_foo.rb&quot;</span>), <span class="ruby-identifier">&lt;&lt;~RUBY</span>)
<span class="ruby-value">        class Foo
        end
</span><span class="ruby-identifier">      RUBY</span>

      <span class="ruby-identifier">entries</span> = <span class="ruby-ivar">@index</span>[<span class="ruby-string">&quot;Foo&quot;</span>]
      <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value">2</span>, <span class="ruby-identifier">entries</span>.<span class="ruby-identifier">length</span>)

      <span class="ruby-ivar">@index</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-constant">IndexablePath</span>.<span class="ruby-identifier">new</span>(<span class="ruby-keyword">nil</span>, <span class="ruby-string">&quot;/fake/path/other_foo.rb&quot;</span>))
      <span class="ruby-identifier">entries</span> = <span class="ruby-ivar">@index</span>[<span class="ruby-string">&quot;Foo&quot;</span>]
      <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value">1</span>, <span class="ruby-identifier">entries</span>.<span class="ruby-identifier">length</span>)
    <span class="ruby-keyword">end</span></pre>
                </div>
                <div id="method-i-test_duplicate_prepend_include" class="method-entry">
                  <div class="method-info">
                    <h4 class="method-name">
                      test_duplicate_prepend_include()

                        <button type="button" class="show-source">Show source</button>
                    </h4>

                    



                  </div>

                    <pre class="method-source hidden"><span class="ruby-comment"># File lib/ruby_indexer/test/index_test.rb, line 518</span>
    <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">test_duplicate_prepend_include</span>
      <span class="ruby-identifier">index</span>(<span class="ruby-identifier">&lt;&lt;~RUBY</span>)
<span class="ruby-value">        module A; end

        class Foo
          prepend A
          include A
        end

        class Bar
          include A
          prepend A
        end
</span><span class="ruby-identifier">      RUBY</span>

      <span class="ruby-identifier">assert_equal</span>(
        [
          <span class="ruby-string">&quot;A&quot;</span>,
          <span class="ruby-string">&quot;Foo&quot;</span>,
          <span class="ruby-string">&quot;Object&quot;</span>,
          <span class="ruby-string">&quot;Kernel&quot;</span>,
          <span class="ruby-string">&quot;BasicObject&quot;</span>,
        ],
        <span class="ruby-ivar">@index</span>.<span class="ruby-identifier">linearized_ancestors_of</span>(<span class="ruby-string">&quot;Foo&quot;</span>),
      )

      <span class="ruby-identifier">assert_equal</span>(
        [
          <span class="ruby-string">&quot;A&quot;</span>,
          <span class="ruby-string">&quot;Bar&quot;</span>,
          <span class="ruby-string">&quot;A&quot;</span>,
          <span class="ruby-string">&quot;Object&quot;</span>,
          <span class="ruby-string">&quot;Kernel&quot;</span>,
          <span class="ruby-string">&quot;BasicObject&quot;</span>,
        ],
        <span class="ruby-ivar">@index</span>.<span class="ruby-identifier">linearized_ancestors_of</span>(<span class="ruby-string">&quot;Bar&quot;</span>),
      )
    <span class="ruby-keyword">end</span></pre>
                </div>
                <div id="method-i-test_fuzzy_search" class="method-entry">
                  <div class="method-info">
                    <h4 class="method-name">
                      test_fuzzy_search()

                        <button type="button" class="show-source">Show source</button>
                    </h4>

                    



                  </div>

                    <pre class="method-source hidden"><span class="ruby-comment"># File lib/ruby_indexer/test/index_test.rb, line 94</span>
    <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">test_fuzzy_search</span>
      <span class="ruby-ivar">@index</span>.<span class="ruby-identifier">index_single</span>(<span class="ruby-constant">IndexablePath</span>.<span class="ruby-identifier">new</span>(<span class="ruby-keyword">nil</span>, <span class="ruby-string">&quot;/fake/path/foo.rb&quot;</span>), <span class="ruby-identifier">&lt;&lt;~RUBY</span>)
<span class="ruby-value">        class Zws; end

        module Qtl
          class Zws
          end

          class Zwo
            class Something
            end
          end
        end
</span><span class="ruby-identifier">      RUBY</span>

      <span class="ruby-identifier">result</span> = <span class="ruby-ivar">@index</span>.<span class="ruby-identifier">fuzzy_search</span>(<span class="ruby-string">&quot;Zws&quot;</span>)
      <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value">2</span>, <span class="ruby-identifier">result</span>.<span class="ruby-identifier">length</span>)
      <span class="ruby-identifier">assert_equal</span>([<span class="ruby-string">&quot;Zws&quot;</span>, <span class="ruby-string">&quot;Qtl::Zwo::Something&quot;</span>], <span class="ruby-identifier">result</span>.<span class="ruby-identifier">map</span>(<span class="ruby-operator">&amp;</span><span class="ruby-value">:name</span>))

      <span class="ruby-identifier">result</span> = <span class="ruby-ivar">@index</span>.<span class="ruby-identifier">fuzzy_search</span>(<span class="ruby-string">&quot;qtlzwssomeking&quot;</span>)
      <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value">5</span>, <span class="ruby-identifier">result</span>.<span class="ruby-identifier">length</span>)
      <span class="ruby-identifier">assert_equal</span>([<span class="ruby-string">&quot;Qtl::Zwo::Something&quot;</span>, <span class="ruby-string">&quot;Qtl::Zws&quot;</span>, <span class="ruby-string">&quot;Qtl::Zwo&quot;</span>, <span class="ruby-string">&quot;Qtl&quot;</span>, <span class="ruby-string">&quot;Zws&quot;</span>], <span class="ruby-identifier">result</span>.<span class="ruby-identifier">map</span>(<span class="ruby-operator">&amp;</span><span class="ruby-value">:name</span>))

      <span class="ruby-identifier">result</span> = <span class="ruby-ivar">@index</span>.<span class="ruby-identifier">fuzzy_search</span>(<span class="ruby-string">&quot;QltZwo&quot;</span>)
      <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value">4</span>, <span class="ruby-identifier">result</span>.<span class="ruby-identifier">length</span>)
      <span class="ruby-identifier">assert_equal</span>([<span class="ruby-string">&quot;Qtl::Zwo&quot;</span>, <span class="ruby-string">&quot;Qtl::Zws&quot;</span>, <span class="ruby-string">&quot;Qtl::Zwo::Something&quot;</span>, <span class="ruby-string">&quot;Qtl&quot;</span>], <span class="ruby-identifier">result</span>.<span class="ruby-identifier">map</span>(<span class="ruby-operator">&amp;</span><span class="ruby-value">:name</span>))
    <span class="ruby-keyword">end</span></pre>
                </div>
                <div id="method-i-test_handle_change_clears_ancestor_cache_if_parent_class_changed" class="method-entry">
                  <div class="method-info">
                    <h4 class="method-name">
                      test_handle_change_clears_ancestor_cache_if_parent_class_changed()

                        <button type="button" class="show-source">Show source</button>
                    </h4>

                    



                  </div>

                    <pre class="method-source hidden"><span class="ruby-comment"># File lib/ruby_indexer/test/index_test.rb, line 843</span>
    <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">test_handle_change_clears_ancestor_cache_if_parent_class_changed</span>
      <span class="ruby-constant">Dir</span>.<span class="ruby-identifier">mktmpdir</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">dir</span><span class="ruby-operator">|</span>
        <span class="ruby-constant">Dir</span>.<span class="ruby-identifier">chdir</span>(<span class="ruby-identifier">dir</span>) <span class="ruby-keyword">do</span>
          <span class="ruby-comment"># Write the original file</span>
          <span class="ruby-constant">File</span>.<span class="ruby-identifier">write</span>(<span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-identifier">dir</span>, <span class="ruby-string">&quot;foo.rb&quot;</span>), <span class="ruby-identifier">&lt;&lt;~RUBY</span>)
<span class="ruby-value">            class Foo
            end

            class Bar &lt; Foo
            end
</span><span class="ruby-identifier">          RUBY</span>

          <span class="ruby-identifier">indexable_path</span> = <span class="ruby-constant">IndexablePath</span>.<span class="ruby-identifier">new</span>(<span class="ruby-keyword">nil</span>, <span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-identifier">dir</span>, <span class="ruby-string">&quot;foo.rb&quot;</span>))
          <span class="ruby-ivar">@index</span>.<span class="ruby-identifier">index_single</span>(<span class="ruby-identifier">indexable_path</span>)

          <span class="ruby-identifier">assert_equal</span>([<span class="ruby-string">&quot;Bar&quot;</span>, <span class="ruby-string">&quot;Foo&quot;</span>, <span class="ruby-string">&quot;Object&quot;</span>, <span class="ruby-string">&quot;Kernel&quot;</span>, <span class="ruby-string">&quot;BasicObject&quot;</span>], <span class="ruby-ivar">@index</span>.<span class="ruby-identifier">linearized_ancestors_of</span>(<span class="ruby-string">&quot;Bar&quot;</span>))

          <span class="ruby-comment"># Remove include to invalidate the ancestor tree</span>
          <span class="ruby-constant">File</span>.<span class="ruby-identifier">write</span>(<span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-identifier">dir</span>, <span class="ruby-string">&quot;foo.rb&quot;</span>), <span class="ruby-identifier">&lt;&lt;~RUBY</span>)
<span class="ruby-value">            class Foo
            end

            class Bar
            end
</span><span class="ruby-identifier">          RUBY</span>

          <span class="ruby-ivar">@index</span>.<span class="ruby-identifier">handle_change</span>(<span class="ruby-identifier">indexable_path</span>)
          <span class="ruby-identifier">assert_empty</span>(<span class="ruby-ivar">@index</span>.<span class="ruby-identifier">instance_variable_get</span>(<span class="ruby-value">:@ancestors</span>))
          <span class="ruby-identifier">assert_equal</span>([<span class="ruby-string">&quot;Bar&quot;</span>, <span class="ruby-string">&quot;Object&quot;</span>, <span class="ruby-string">&quot;Kernel&quot;</span>, <span class="ruby-string">&quot;BasicObject&quot;</span>], <span class="ruby-ivar">@index</span>.<span class="ruby-identifier">linearized_ancestors_of</span>(<span class="ruby-string">&quot;Bar&quot;</span>))
        <span class="ruby-keyword">end</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">end</span></pre>
                </div>
                <div id="method-i-test_handle_change_clears_ancestor_cache_if_tree_changed" class="method-entry">
                  <div class="method-info">
                    <h4 class="method-name">
                      test_handle_change_clears_ancestor_cache_if_tree_changed()

                        <button type="button" class="show-source">Show source</button>
                    </h4>

                    



                  </div>

                    <pre class="method-source hidden"><span class="ruby-comment"># File lib/ruby_indexer/test/index_test.rb, line 772</span>
    <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">test_handle_change_clears_ancestor_cache_if_tree_changed</span>
      <span class="ruby-constant">Dir</span>.<span class="ruby-identifier">mktmpdir</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">dir</span><span class="ruby-operator">|</span>
        <span class="ruby-constant">Dir</span>.<span class="ruby-identifier">chdir</span>(<span class="ruby-identifier">dir</span>) <span class="ruby-keyword">do</span>
          <span class="ruby-comment"># Write the original file</span>
          <span class="ruby-constant">File</span>.<span class="ruby-identifier">write</span>(<span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-identifier">dir</span>, <span class="ruby-string">&quot;foo.rb&quot;</span>), <span class="ruby-identifier">&lt;&lt;~RUBY</span>)
<span class="ruby-value">            module Foo
            end

            class Bar
              include Foo
            end
</span><span class="ruby-identifier">          RUBY</span>

          <span class="ruby-identifier">indexable_path</span> = <span class="ruby-constant">IndexablePath</span>.<span class="ruby-identifier">new</span>(<span class="ruby-keyword">nil</span>, <span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-identifier">dir</span>, <span class="ruby-string">&quot;foo.rb&quot;</span>))
          <span class="ruby-ivar">@index</span>.<span class="ruby-identifier">index_single</span>(<span class="ruby-identifier">indexable_path</span>)

          <span class="ruby-identifier">assert_equal</span>([<span class="ruby-string">&quot;Bar&quot;</span>, <span class="ruby-string">&quot;Foo&quot;</span>, <span class="ruby-string">&quot;Object&quot;</span>, <span class="ruby-string">&quot;Kernel&quot;</span>, <span class="ruby-string">&quot;BasicObject&quot;</span>], <span class="ruby-ivar">@index</span>.<span class="ruby-identifier">linearized_ancestors_of</span>(<span class="ruby-string">&quot;Bar&quot;</span>))

          <span class="ruby-comment"># Remove include to invalidate the ancestor tree</span>
          <span class="ruby-constant">File</span>.<span class="ruby-identifier">write</span>(<span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-identifier">dir</span>, <span class="ruby-string">&quot;foo.rb&quot;</span>), <span class="ruby-identifier">&lt;&lt;~RUBY</span>)
<span class="ruby-value">            module Foo
            end

            class Bar
            end
</span><span class="ruby-identifier">          RUBY</span>

          <span class="ruby-ivar">@index</span>.<span class="ruby-identifier">handle_change</span>(<span class="ruby-identifier">indexable_path</span>)
          <span class="ruby-identifier">assert_empty</span>(<span class="ruby-ivar">@index</span>.<span class="ruby-identifier">instance_variable_get</span>(<span class="ruby-value">:@ancestors</span>))
          <span class="ruby-identifier">assert_equal</span>([<span class="ruby-string">&quot;Bar&quot;</span>, <span class="ruby-string">&quot;Object&quot;</span>, <span class="ruby-string">&quot;Kernel&quot;</span>, <span class="ruby-string">&quot;BasicObject&quot;</span>], <span class="ruby-ivar">@index</span>.<span class="ruby-identifier">linearized_ancestors_of</span>(<span class="ruby-string">&quot;Bar&quot;</span>))
        <span class="ruby-keyword">end</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">end</span></pre>
                </div>
                <div id="method-i-test_handle_change_does_not_clear_ancestor_cache_if_tree_not_changed" class="method-entry">
                  <div class="method-info">
                    <h4 class="method-name">
                      test_handle_change_does_not_clear_ancestor_cache_if_tree_not_changed()

                        <button type="button" class="show-source">Show source</button>
                    </h4>

                    



                  </div>

                    <pre class="method-source hidden"><span class="ruby-comment"># File lib/ruby_indexer/test/index_test.rb, line 806</span>
    <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">test_handle_change_does_not_clear_ancestor_cache_if_tree_not_changed</span>
      <span class="ruby-constant">Dir</span>.<span class="ruby-identifier">mktmpdir</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">dir</span><span class="ruby-operator">|</span>
        <span class="ruby-constant">Dir</span>.<span class="ruby-identifier">chdir</span>(<span class="ruby-identifier">dir</span>) <span class="ruby-keyword">do</span>
          <span class="ruby-comment"># Write the original file</span>
          <span class="ruby-constant">File</span>.<span class="ruby-identifier">write</span>(<span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-identifier">dir</span>, <span class="ruby-string">&quot;foo.rb&quot;</span>), <span class="ruby-identifier">&lt;&lt;~RUBY</span>)
<span class="ruby-value">            module Foo
            end

            class Bar
              include Foo
            end
</span><span class="ruby-identifier">          RUBY</span>

          <span class="ruby-identifier">indexable_path</span> = <span class="ruby-constant">IndexablePath</span>.<span class="ruby-identifier">new</span>(<span class="ruby-keyword">nil</span>, <span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-identifier">dir</span>, <span class="ruby-string">&quot;foo.rb&quot;</span>))
          <span class="ruby-ivar">@index</span>.<span class="ruby-identifier">index_single</span>(<span class="ruby-identifier">indexable_path</span>)

          <span class="ruby-identifier">assert_equal</span>([<span class="ruby-string">&quot;Bar&quot;</span>, <span class="ruby-string">&quot;Foo&quot;</span>, <span class="ruby-string">&quot;Object&quot;</span>, <span class="ruby-string">&quot;Kernel&quot;</span>, <span class="ruby-string">&quot;BasicObject&quot;</span>], <span class="ruby-ivar">@index</span>.<span class="ruby-identifier">linearized_ancestors_of</span>(<span class="ruby-string">&quot;Bar&quot;</span>))

          <span class="ruby-comment"># Remove include to invalidate the ancestor tree</span>
          <span class="ruby-constant">File</span>.<span class="ruby-identifier">write</span>(<span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-identifier">dir</span>, <span class="ruby-string">&quot;foo.rb&quot;</span>), <span class="ruby-identifier">&lt;&lt;~RUBY</span>)
<span class="ruby-value">            module Foo
            end

            class Bar
              include Foo

              def baz; end
            end
</span><span class="ruby-identifier">          RUBY</span>

          <span class="ruby-ivar">@index</span>.<span class="ruby-identifier">handle_change</span>(<span class="ruby-identifier">indexable_path</span>)
          <span class="ruby-identifier">refute_empty</span>(<span class="ruby-ivar">@index</span>.<span class="ruby-identifier">instance_variable_get</span>(<span class="ruby-value">:@ancestors</span>))
          <span class="ruby-identifier">assert_equal</span>([<span class="ruby-string">&quot;Bar&quot;</span>, <span class="ruby-string">&quot;Foo&quot;</span>, <span class="ruby-string">&quot;Object&quot;</span>, <span class="ruby-string">&quot;Kernel&quot;</span>, <span class="ruby-string">&quot;BasicObject&quot;</span>], <span class="ruby-ivar">@index</span>.<span class="ruby-identifier">linearized_ancestors_of</span>(<span class="ruby-string">&quot;Bar&quot;</span>))
        <span class="ruby-keyword">end</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">end</span></pre>
                </div>
                <div id="method-i-test_index_resolve" class="method-entry">
                  <div class="method-info">
                    <h4 class="method-name">
                      test_index_resolve()

                        <button type="button" class="show-source">Show source</button>
                    </h4>

                    



                  </div>

                    <pre class="method-source hidden"><span class="ruby-comment"># File lib/ruby_indexer/test/index_test.rb, line 40</span>
    <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">test_index_resolve</span>
      <span class="ruby-ivar">@index</span>.<span class="ruby-identifier">index_single</span>(<span class="ruby-constant">IndexablePath</span>.<span class="ruby-identifier">new</span>(<span class="ruby-keyword">nil</span>, <span class="ruby-string">&quot;/fake/path/foo.rb&quot;</span>), <span class="ruby-identifier">&lt;&lt;~RUBY</span>)
<span class="ruby-value">        class Bar; end

        module Foo
          class Bar
          end

          class Baz
            class Something
            end
          end
        end
</span><span class="ruby-identifier">      RUBY</span>

      <span class="ruby-identifier">entries</span> = <span class="ruby-ivar">@index</span>.<span class="ruby-identifier">resolve</span>(<span class="ruby-string">&quot;Something&quot;</span>, [<span class="ruby-string">&quot;Foo&quot;</span>, <span class="ruby-string">&quot;Baz&quot;</span>])
      <span class="ruby-identifier">refute_empty</span>(<span class="ruby-identifier">entries</span>)
      <span class="ruby-identifier">assert_equal</span>(<span class="ruby-string">&quot;Foo::Baz::Something&quot;</span>, <span class="ruby-identifier">entries</span>.<span class="ruby-identifier">first</span>.<span class="ruby-identifier">name</span>)

      <span class="ruby-identifier">entries</span> = <span class="ruby-ivar">@index</span>.<span class="ruby-identifier">resolve</span>(<span class="ruby-string">&quot;Bar&quot;</span>, [<span class="ruby-string">&quot;Foo&quot;</span>])
      <span class="ruby-identifier">refute_empty</span>(<span class="ruby-identifier">entries</span>)
      <span class="ruby-identifier">assert_equal</span>(<span class="ruby-string">&quot;Foo::Bar&quot;</span>, <span class="ruby-identifier">entries</span>.<span class="ruby-identifier">first</span>.<span class="ruby-identifier">name</span>)

      <span class="ruby-identifier">entries</span> = <span class="ruby-ivar">@index</span>.<span class="ruby-identifier">resolve</span>(<span class="ruby-string">&quot;Bar&quot;</span>, [<span class="ruby-string">&quot;Foo&quot;</span>, <span class="ruby-string">&quot;Baz&quot;</span>])
      <span class="ruby-identifier">refute_empty</span>(<span class="ruby-identifier">entries</span>)
      <span class="ruby-identifier">assert_equal</span>(<span class="ruby-string">&quot;Foo::Bar&quot;</span>, <span class="ruby-identifier">entries</span>.<span class="ruby-identifier">first</span>.<span class="ruby-identifier">name</span>)

      <span class="ruby-identifier">entries</span> = <span class="ruby-ivar">@index</span>.<span class="ruby-identifier">resolve</span>(<span class="ruby-string">&quot;Foo::Bar&quot;</span>, [<span class="ruby-string">&quot;Foo&quot;</span>, <span class="ruby-string">&quot;Baz&quot;</span>])
      <span class="ruby-identifier">refute_empty</span>(<span class="ruby-identifier">entries</span>)
      <span class="ruby-identifier">assert_equal</span>(<span class="ruby-string">&quot;Foo::Bar&quot;</span>, <span class="ruby-identifier">entries</span>.<span class="ruby-identifier">first</span>.<span class="ruby-identifier">name</span>)

      <span class="ruby-identifier">assert_nil</span>(<span class="ruby-ivar">@index</span>.<span class="ruby-identifier">resolve</span>(<span class="ruby-string">&quot;DoesNotExist&quot;</span>, [<span class="ruby-string">&quot;Foo&quot;</span>]))
    <span class="ruby-keyword">end</span></pre>
                </div>
                <div id="method-i-test_index_single_does_not_fail_for_non_existing_file" class="method-entry">
                  <div class="method-info">
                    <h4 class="method-name">
                      test_index_single_does_not_fail_for_non_existing_file()

                        <button type="button" class="show-source">Show source</button>
                    </h4>

                    



                  </div>

                    <pre class="method-source hidden"><span class="ruby-comment"># File lib/ruby_indexer/test/index_test.rb, line 356</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">test_index_single_does_not_fail_for_non_existing_file</span>
  <span class="ruby-ivar">@index</span>.<span class="ruby-identifier">index_single</span>(<span class="ruby-constant">IndexablePath</span>.<span class="ruby-identifier">new</span>(<span class="ruby-keyword">nil</span>, <span class="ruby-string">&quot;/fake/path/foo.rb&quot;</span>))
  <span class="ruby-identifier">entries_after_indexing</span> = <span class="ruby-ivar">@index</span>.<span class="ruby-identifier">names</span>
  <span class="ruby-identifier">assert_equal</span>(<span class="ruby-ivar">@default_indexed_entries</span>.<span class="ruby-identifier">keys</span>, <span class="ruby-identifier">entries_after_indexing</span>)
<span class="ruby-keyword">end</span></pre>
                </div>
                <div id="method-i-test_index_single_ignores_directories" class="method-entry">
                  <div class="method-info">
                    <h4 class="method-name">
                      test_index_single_ignores_directories()

                        <button type="button" class="show-source">Show source</button>
                    </h4>

                    



                  </div>

                    <pre class="method-source hidden"><span class="ruby-comment"># File lib/ruby_indexer/test/index_test.rb, line 122</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">test_index_single_ignores_directories</span>
  <span class="ruby-constant">FileUtils</span>.<span class="ruby-identifier">mkdir</span>(<span class="ruby-string">&quot;lib/this_is_a_dir.rb&quot;</span>)
  <span class="ruby-ivar">@index</span>.<span class="ruby-identifier">index_single</span>(<span class="ruby-constant">IndexablePath</span>.<span class="ruby-identifier">new</span>(<span class="ruby-keyword">nil</span>, <span class="ruby-string">&quot;lib/this_is_a_dir.rb&quot;</span>))
<span class="ruby-keyword">ensure</span>
  <span class="ruby-constant">FileUtils</span>.<span class="ruby-identifier">rm_r</span>(<span class="ruby-string">&quot;lib/this_is_a_dir.rb&quot;</span>)
<span class="ruby-keyword">end</span></pre>
                </div>
                <div id="method-i-test_indexing_prism_fixtures_succeeds" class="method-entry">
                  <div class="method-info">
                    <h4 class="method-name">
                      test_indexing_prism_fixtures_succeeds()

                        <button type="button" class="show-source">Show source</button>
                    </h4>

                    



                  </div>

                    <pre class="method-source hidden"><span class="ruby-comment"># File lib/ruby_indexer/test/index_test.rb, line 341</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">test_indexing_prism_fixtures_succeeds</span>
  <span class="ruby-keyword">unless</span> <span class="ruby-constant">Dir</span>.<span class="ruby-identifier">exist?</span>(<span class="ruby-string">&quot;test/fixtures/prism/test/prism/fixtures&quot;</span>)
    <span class="ruby-identifier">raise</span> <span class="ruby-string">&quot;Prism fixtures not found. Run `git submodule update --init` to fetch them.&quot;</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">fixtures</span> = <span class="ruby-constant">Dir</span>.<span class="ruby-identifier">glob</span>(<span class="ruby-string">&quot;test/fixtures/prism/test/prism/fixtures/**/*.txt&quot;</span>)

  <span class="ruby-identifier">fixtures</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">fixture</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">indexable_path</span> = <span class="ruby-constant">IndexablePath</span>.<span class="ruby-identifier">new</span>(<span class="ruby-string">&quot;&quot;</span>, <span class="ruby-identifier">fixture</span>)
    <span class="ruby-ivar">@index</span>.<span class="ruby-identifier">index_single</span>(<span class="ruby-identifier">indexable_path</span>)
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">refute_empty</span>(<span class="ruby-ivar">@index</span>)
<span class="ruby-keyword">end</span></pre>
                </div>
                <div id="method-i-test_instance_variable_completion_in_singleton_contexts" class="method-entry">
                  <div class="method-info">
                    <h4 class="method-name">
                      test_instance_variable_completion_in_singleton_contexts()

                        <button type="button" class="show-source">Show source</button>
                    </h4>

                    



                  </div>

                    <pre class="method-source hidden"><span class="ruby-comment"># File lib/ruby_indexer/test/index_test.rb, line 1378</span>
    <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">test_instance_variable_completion_in_singleton_contexts</span>
      <span class="ruby-ivar">@index</span>.<span class="ruby-identifier">index_single</span>(<span class="ruby-constant">IndexablePath</span>.<span class="ruby-identifier">new</span>(<span class="ruby-keyword">nil</span>, <span class="ruby-string">&quot;/fake/path/foo.rb&quot;</span>), <span class="ruby-identifier">&lt;&lt;~RUBY</span>)
<span class="ruby-value">        module Foo
          class Bar
            @a = 123

            class &lt;&lt; self
              def hello
                @b = 123
              end

              @c = 123
            end
          end
        end
</span><span class="ruby-identifier">      RUBY</span>

      <span class="ruby-identifier">entries</span> = <span class="ruby-ivar">@index</span>.<span class="ruby-identifier">instance_variable_completion_candidates</span>(<span class="ruby-string">&quot;@&quot;</span>, <span class="ruby-string">&quot;Foo::Bar::&lt;Class:Bar&gt;&quot;</span>).<span class="ruby-identifier">map</span>(<span class="ruby-operator">&amp;</span><span class="ruby-value">:name</span>)
      <span class="ruby-identifier">assert_includes</span>(<span class="ruby-identifier">entries</span>, <span class="ruby-string">&quot;@a&quot;</span>)
      <span class="ruby-identifier">assert_includes</span>(<span class="ruby-identifier">entries</span>, <span class="ruby-string">&quot;@b&quot;</span>)
    <span class="ruby-keyword">end</span></pre>
                </div>
                <div id="method-i-test_instance_variables_completions_from_different_owners_with_conflicting_names" class="method-entry">
                  <div class="method-info">
                    <h4 class="method-name">
                      test_instance_variables_completions_from_different_owners_with_conflicting_names()

                        <button type="button" class="show-source">Show source</button>
                    </h4>

                    



                  </div>

                    <pre class="method-source hidden"><span class="ruby-comment"># File lib/ruby_indexer/test/index_test.rb, line 1174</span>
    <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">test_instance_variables_completions_from_different_owners_with_conflicting_names</span>
      <span class="ruby-identifier">index</span>(<span class="ruby-identifier">&lt;&lt;~RUBY</span>)
<span class="ruby-value">        class Foo
          def initialize
            @bar = 1
          end
        end

        class Bar
          def initialize
            @bar = 2
          end
        end
</span><span class="ruby-identifier">      RUBY</span>

      <span class="ruby-identifier">entry</span> = <span class="ruby-constant">T</span>.<span class="ruby-identifier">must</span>(<span class="ruby-ivar">@index</span>.<span class="ruby-identifier">instance_variable_completion_candidates</span>(<span class="ruby-string">&quot;@&quot;</span>, <span class="ruby-string">&quot;Bar&quot;</span>)&amp;.<span class="ruby-identifier">first</span>)
      <span class="ruby-identifier">assert_equal</span>(<span class="ruby-string">&quot;@bar&quot;</span>, <span class="ruby-identifier">entry</span>.<span class="ruby-identifier">name</span>)
      <span class="ruby-identifier">assert_equal</span>(<span class="ruby-string">&quot;Bar&quot;</span>, <span class="ruby-constant">T</span>.<span class="ruby-identifier">must</span>(<span class="ruby-identifier">entry</span>.<span class="ruby-identifier">owner</span>).<span class="ruby-identifier">name</span>)
    <span class="ruby-keyword">end</span></pre>
                </div>
                <div id="method-i-test_linearized_ancestors" class="method-entry">
                  <div class="method-info">
                    <h4 class="method-name">
                      test_linearized_ancestors()

                        <button type="button" class="show-source">Show source</button>
                    </h4>

                    



                  </div>

                    <pre class="method-source hidden"><span class="ruby-comment"># File lib/ruby_indexer/test/index_test.rb, line 403</span>
    <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">test_linearized_ancestors</span>
      <span class="ruby-identifier">index</span>(<span class="ruby-identifier">&lt;&lt;~RUBY</span>)
<span class="ruby-value">        module A; end
        module B; end
        module C; end

        module D
          include A
        end

        module E
          prepend B
        end

        module F
          include C
          include A
        end

        class Bar
          prepend F
        end

        class Foo &lt; Bar
          include E
          prepend D
        end
</span><span class="ruby-identifier">      RUBY</span>

      <span class="ruby-comment"># Object, Kernel and BasicObject are intentionally commented out for now until we develop a strategy for indexing</span>
      <span class="ruby-comment"># declarations made in C code</span>
      <span class="ruby-identifier">assert_equal</span>(
        [
          <span class="ruby-string">&quot;D&quot;</span>,
          <span class="ruby-string">&quot;A&quot;</span>,
          <span class="ruby-string">&quot;Foo&quot;</span>,
          <span class="ruby-string">&quot;B&quot;</span>,
          <span class="ruby-string">&quot;E&quot;</span>,
          <span class="ruby-string">&quot;F&quot;</span>,
          <span class="ruby-string">&quot;A&quot;</span>,
          <span class="ruby-string">&quot;C&quot;</span>,
          <span class="ruby-string">&quot;Bar&quot;</span>,
          <span class="ruby-string">&quot;Object&quot;</span>,
          <span class="ruby-string">&quot;Kernel&quot;</span>,
          <span class="ruby-string">&quot;BasicObject&quot;</span>,
        ],
        <span class="ruby-ivar">@index</span>.<span class="ruby-identifier">linearized_ancestors_of</span>(<span class="ruby-string">&quot;Foo&quot;</span>),
      )
    <span class="ruby-keyword">end</span></pre>
                </div>
                <div id="method-i-test_linearized_ancestors_basic_ordering" class="method-entry">
                  <div class="method-info">
                    <h4 class="method-name">
                      test_linearized_ancestors_basic_ordering()

                        <button type="button" class="show-source">Show source</button>
                    </h4>

                    



                  </div>

                    <pre class="method-source hidden"><span class="ruby-comment"># File lib/ruby_indexer/test/index_test.rb, line 362</span>
    <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">test_linearized_ancestors_basic_ordering</span>
      <span class="ruby-identifier">index</span>(<span class="ruby-identifier">&lt;&lt;~RUBY</span>)
<span class="ruby-value">        module A; end
        module B; end

        class Foo
          prepend A
          prepend B
        end

        class Bar
          include A
          include B
        end
</span><span class="ruby-identifier">      RUBY</span>

      <span class="ruby-identifier">assert_equal</span>(
        [
          <span class="ruby-string">&quot;B&quot;</span>,
          <span class="ruby-string">&quot;A&quot;</span>,
          <span class="ruby-string">&quot;Foo&quot;</span>,
          <span class="ruby-string">&quot;Object&quot;</span>,
          <span class="ruby-string">&quot;Kernel&quot;</span>,
          <span class="ruby-string">&quot;BasicObject&quot;</span>,
        ],
        <span class="ruby-ivar">@index</span>.<span class="ruby-identifier">linearized_ancestors_of</span>(<span class="ruby-string">&quot;Foo&quot;</span>),
      )

      <span class="ruby-identifier">assert_equal</span>(
        [
          <span class="ruby-string">&quot;Bar&quot;</span>,
          <span class="ruby-string">&quot;B&quot;</span>,
          <span class="ruby-string">&quot;A&quot;</span>,
          <span class="ruby-string">&quot;Object&quot;</span>,
          <span class="ruby-string">&quot;Kernel&quot;</span>,
          <span class="ruby-string">&quot;BasicObject&quot;</span>,
        ],
        <span class="ruby-ivar">@index</span>.<span class="ruby-identifier">linearized_ancestors_of</span>(<span class="ruby-string">&quot;Bar&quot;</span>),
      )
    <span class="ruby-keyword">end</span></pre>
                </div>
                <div id="method-i-test_linearized_ancestors_duplicates" class="method-entry">
                  <div class="method-info">
                    <h4 class="method-name">
                      test_linearized_ancestors_duplicates()

                        <button type="button" class="show-source">Show source</button>
                    </h4>

                    



                  </div>

                    <pre class="method-source hidden"><span class="ruby-comment"># File lib/ruby_indexer/test/index_test.rb, line 453</span>
    <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">test_linearized_ancestors_duplicates</span>
      <span class="ruby-identifier">index</span>(<span class="ruby-identifier">&lt;&lt;~RUBY</span>)
<span class="ruby-value">        module A; end
        module B
          include A
        end

        class Foo
          include B
          include A
        end

        class Bar
          prepend B
          prepend A
        end
</span><span class="ruby-identifier">      RUBY</span>

      <span class="ruby-identifier">assert_equal</span>(
        [
          <span class="ruby-string">&quot;Foo&quot;</span>,
          <span class="ruby-string">&quot;B&quot;</span>,
          <span class="ruby-string">&quot;A&quot;</span>,
          <span class="ruby-string">&quot;Object&quot;</span>,
          <span class="ruby-string">&quot;Kernel&quot;</span>,
          <span class="ruby-string">&quot;BasicObject&quot;</span>,
        ],
        <span class="ruby-ivar">@index</span>.<span class="ruby-identifier">linearized_ancestors_of</span>(<span class="ruby-string">&quot;Foo&quot;</span>),
      )

      <span class="ruby-identifier">assert_equal</span>(
        [
          <span class="ruby-string">&quot;B&quot;</span>,
          <span class="ruby-string">&quot;A&quot;</span>,
          <span class="ruby-string">&quot;Bar&quot;</span>,
          <span class="ruby-string">&quot;Object&quot;</span>,
          <span class="ruby-string">&quot;Kernel&quot;</span>,
          <span class="ruby-string">&quot;BasicObject&quot;</span>,
        ],
        <span class="ruby-ivar">@index</span>.<span class="ruby-identifier">linearized_ancestors_of</span>(<span class="ruby-string">&quot;Bar&quot;</span>),
      )
    <span class="ruby-keyword">end</span></pre>
                </div>
                <div id="method-i-test_linearizing_a_module_singleton_class" class="method-entry">
                  <div class="method-info">
                    <h4 class="method-name">
                      test_linearizing_a_module_singleton_class()

                        <button type="button" class="show-source">Show source</button>
                    </h4>

                    



                  </div>

                    <pre class="method-source hidden"><span class="ruby-comment"># File lib/ruby_indexer/test/index_test.rb, line 1731</span>
    <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">test_linearizing_a_module_singleton_class</span>
      <span class="ruby-ivar">@index</span>.<span class="ruby-identifier">index_single</span>(<span class="ruby-constant">IndexablePath</span>.<span class="ruby-identifier">new</span>(<span class="ruby-keyword">nil</span>, <span class="ruby-string">&quot;/fake/path/foo.rb&quot;</span>), <span class="ruby-identifier">&lt;&lt;~RUBY</span>)
<span class="ruby-value">        module A; end
</span><span class="ruby-identifier">      RUBY</span>

      <span class="ruby-identifier">assert_equal</span>(
        [
          <span class="ruby-string">&quot;A::&lt;Class:A&gt;&quot;</span>,
          <span class="ruby-string">&quot;Module&quot;</span>,
          <span class="ruby-string">&quot;Object&quot;</span>,
          <span class="ruby-string">&quot;Kernel&quot;</span>,
          <span class="ruby-string">&quot;BasicObject&quot;</span>,
        ],
        <span class="ruby-ivar">@index</span>.<span class="ruby-identifier">linearized_ancestors_of</span>(<span class="ruby-string">&quot;A::&lt;Class:A&gt;&quot;</span>),
      )
    <span class="ruby-keyword">end</span></pre>
                </div>
                <div id="method-i-test_linearizing_a_singleton_class_with_no_attached" class="method-entry">
                  <div class="method-info">
                    <h4 class="method-name">
                      test_linearizing_a_singleton_class_with_no_attached()

                        <button type="button" class="show-source">Show source</button>
                    </h4>

                    



                  </div>

                    <pre class="method-source hidden"><span class="ruby-comment"># File lib/ruby_indexer/test/index_test.rb, line 1748</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">test_linearizing_a_singleton_class_with_no_attached</span>
  <span class="ruby-identifier">assert_raises</span>(<span class="ruby-constant">Index</span><span class="ruby-operator">::</span><span class="ruby-constant">NonExistingNamespaceError</span>) <span class="ruby-keyword">do</span>
    <span class="ruby-ivar">@index</span>.<span class="ruby-identifier">linearized_ancestors_of</span>(<span class="ruby-string">&quot;A::&lt;Class:A&gt;&quot;</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
                </div>
                <div id="method-i-test_linearizing_ancestors_for_non_existing_namespaces" class="method-entry">
                  <div class="method-info">
                    <h4 class="method-name">
                      test_linearizing_ancestors_for_non_existing_namespaces()

                        <button type="button" class="show-source">Show source</button>
                    </h4>

                    



                  </div>

                    <pre class="method-source hidden"><span class="ruby-comment"># File lib/ruby_indexer/test/index_test.rb, line 657</span>
    <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">test_linearizing_ancestors_for_non_existing_namespaces</span>
      <span class="ruby-identifier">index</span>(<span class="ruby-identifier">&lt;&lt;~RUBY</span>)
<span class="ruby-value">        def Bar(a); end
</span><span class="ruby-identifier">      RUBY</span>

      <span class="ruby-identifier">assert_raises</span>(<span class="ruby-constant">Index</span><span class="ruby-operator">::</span><span class="ruby-constant">NonExistingNamespaceError</span>) <span class="ruby-keyword">do</span>
        <span class="ruby-ivar">@index</span>.<span class="ruby-identifier">linearized_ancestors_of</span>(<span class="ruby-string">&quot;Foo&quot;</span>)
      <span class="ruby-keyword">end</span>

      <span class="ruby-identifier">assert_raises</span>(<span class="ruby-constant">Index</span><span class="ruby-operator">::</span><span class="ruby-constant">NonExistingNamespaceError</span>) <span class="ruby-keyword">do</span>
        <span class="ruby-ivar">@index</span>.<span class="ruby-identifier">linearized_ancestors_of</span>(<span class="ruby-string">&quot;Bar&quot;</span>)
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">end</span></pre>
                </div>
                <div id="method-i-test_linearizing_ancestors_handles_circular_parent_class" class="method-entry">
                  <div class="method-info">
                    <h4 class="method-name">
                      test_linearizing_ancestors_handles_circular_parent_class()

                        <button type="button" class="show-source">Show source</button>
                    </h4>

                    



                  </div>

                    <pre class="method-source hidden"><span class="ruby-comment"># File lib/ruby_indexer/test/index_test.rb, line 557</span>
    <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">test_linearizing_ancestors_handles_circular_parent_class</span>
      <span class="ruby-identifier">index</span>(<span class="ruby-identifier">&lt;&lt;~RUBY</span>)
<span class="ruby-value">        class Foo &lt; Foo
        end
</span><span class="ruby-identifier">      RUBY</span>

      <span class="ruby-identifier">assert_equal</span>([<span class="ruby-string">&quot;Foo&quot;</span>], <span class="ruby-ivar">@index</span>.<span class="ruby-identifier">linearized_ancestors_of</span>(<span class="ruby-string">&quot;Foo&quot;</span>))
    <span class="ruby-keyword">end</span></pre>
                </div>
                <div id="method-i-test_linearizing_ancestors_is_cached" class="method-entry">
                  <div class="method-info">
                    <h4 class="method-name">
                      test_linearizing_ancestors_is_cached()

                        <button type="button" class="show-source">Show source</button>
                    </h4>

                    



                  </div>

                    <pre class="method-source hidden"><span class="ruby-comment"># File lib/ruby_indexer/test/index_test.rb, line 496</span>
    <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">test_linearizing_ancestors_is_cached</span>
      <span class="ruby-identifier">index</span>(<span class="ruby-identifier">&lt;&lt;~RUBY</span>)
<span class="ruby-value">        module C; end
        module A; end
        module B
          include A
        end

        class Foo
          include B
          include A
        end
</span><span class="ruby-identifier">      RUBY</span>

      <span class="ruby-ivar">@index</span>.<span class="ruby-identifier">linearized_ancestors_of</span>(<span class="ruby-string">&quot;Foo&quot;</span>)
      <span class="ruby-identifier">ancestors</span> = <span class="ruby-ivar">@index</span>.<span class="ruby-identifier">instance_variable_get</span>(<span class="ruby-value">:@ancestors</span>)
      <span class="ruby-identifier">assert</span>(<span class="ruby-identifier">ancestors</span>.<span class="ruby-identifier">key?</span>(<span class="ruby-string">&quot;Foo&quot;</span>))
      <span class="ruby-identifier">assert</span>(<span class="ruby-identifier">ancestors</span>.<span class="ruby-identifier">key?</span>(<span class="ruby-string">&quot;A&quot;</span>))
      <span class="ruby-identifier">assert</span>(<span class="ruby-identifier">ancestors</span>.<span class="ruby-identifier">key?</span>(<span class="ruby-string">&quot;B&quot;</span>))
      <span class="ruby-identifier">refute</span>(<span class="ruby-identifier">ancestors</span>.<span class="ruby-identifier">key?</span>(<span class="ruby-string">&quot;C&quot;</span>))
    <span class="ruby-keyword">end</span></pre>
                </div>
                <div id="method-i-test_linearizing_ancestors_that_need_to_be_resolved" class="method-entry">
                  <div class="method-info">
                    <h4 class="method-name">
                      test_linearizing_ancestors_that_need_to_be_resolved()

                        <button type="button" class="show-source">Show source</button>
                    </h4>

                    



                  </div>

                    <pre class="method-source hidden"><span class="ruby-comment"># File lib/ruby_indexer/test/index_test.rb, line 626</span>
    <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">test_linearizing_ancestors_that_need_to_be_resolved</span>
      <span class="ruby-identifier">index</span>(<span class="ruby-identifier">&lt;&lt;~RUBY</span>)
<span class="ruby-value">        module Foo
          module Baz
          end
          module Qux
          end

          class Something; end

          class Bar &lt; Something
            include Baz
            prepend Qux
          end
        end
</span><span class="ruby-identifier">      RUBY</span>

      <span class="ruby-identifier">assert_equal</span>(
        [
          <span class="ruby-string">&quot;Foo::Qux&quot;</span>,
          <span class="ruby-string">&quot;Foo::Bar&quot;</span>,
          <span class="ruby-string">&quot;Foo::Baz&quot;</span>,
          <span class="ruby-string">&quot;Foo::Something&quot;</span>,
          <span class="ruby-string">&quot;Object&quot;</span>,
          <span class="ruby-string">&quot;Kernel&quot;</span>,
          <span class="ruby-string">&quot;BasicObject&quot;</span>,
        ],
        <span class="ruby-ivar">@index</span>.<span class="ruby-identifier">linearized_ancestors_of</span>(<span class="ruby-string">&quot;Foo::Bar&quot;</span>),
      )
    <span class="ruby-keyword">end</span></pre>
                </div>
                <div id="method-i-test_linearizing_circular_aliased_dependency" class="method-entry">
                  <div class="method-info">
                    <h4 class="method-name">
                      test_linearizing_circular_aliased_dependency()

                        <button type="button" class="show-source">Show source</button>
                    </h4>

                    



                  </div>

                    <pre class="method-source hidden"><span class="ruby-comment"># File lib/ruby_indexer/test/index_test.rb, line 708</span>
    <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">test_linearizing_circular_aliased_dependency</span>
      <span class="ruby-identifier">index</span>(<span class="ruby-identifier">&lt;&lt;~RUBY</span>)
<span class="ruby-value">        module A
        end

        ALIAS = A

        module A
          include ALIAS
        end
</span><span class="ruby-identifier">      RUBY</span>

      <span class="ruby-identifier">assert_equal</span>([<span class="ruby-string">&quot;A&quot;</span>, <span class="ruby-string">&quot;ALIAS&quot;</span>], <span class="ruby-ivar">@index</span>.<span class="ruby-identifier">linearized_ancestors_of</span>(<span class="ruby-string">&quot;A&quot;</span>))
    <span class="ruby-keyword">end</span></pre>
                </div>
                <div id="method-i-test_linearizing_circular_ancestors" class="method-entry">
                  <div class="method-info">
                    <h4 class="method-name">
                      test_linearizing_circular_ancestors()

                        <button type="button" class="show-source">Show source</button>
                    </h4>

                    



                  </div>

                    <pre class="method-source hidden"><span class="ruby-comment"># File lib/ruby_indexer/test/index_test.rb, line 671</span>
    <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">test_linearizing_circular_ancestors</span>
      <span class="ruby-identifier">index</span>(<span class="ruby-identifier">&lt;&lt;~RUBY</span>)
<span class="ruby-value">        module M1
          include M2
        end

        module M2
          include M1
        end

        module A1
          include A2
        end

        module A2
          include A3
        end

        module A3
          include A1
        end

        class Foo &lt; Foo
          include Foo
        end

        module Bar
          include Bar
        end
</span><span class="ruby-identifier">      RUBY</span>

      <span class="ruby-identifier">assert_equal</span>([<span class="ruby-string">&quot;M2&quot;</span>, <span class="ruby-string">&quot;M1&quot;</span>], <span class="ruby-ivar">@index</span>.<span class="ruby-identifier">linearized_ancestors_of</span>(<span class="ruby-string">&quot;M2&quot;</span>))
      <span class="ruby-identifier">assert_equal</span>([<span class="ruby-string">&quot;A3&quot;</span>, <span class="ruby-string">&quot;A1&quot;</span>, <span class="ruby-string">&quot;A2&quot;</span>], <span class="ruby-ivar">@index</span>.<span class="ruby-identifier">linearized_ancestors_of</span>(<span class="ruby-string">&quot;A3&quot;</span>))
      <span class="ruby-identifier">assert_equal</span>([<span class="ruby-string">&quot;Foo&quot;</span>], <span class="ruby-ivar">@index</span>.<span class="ruby-identifier">linearized_ancestors_of</span>(<span class="ruby-string">&quot;Foo&quot;</span>))
      <span class="ruby-identifier">assert_equal</span>([<span class="ruby-string">&quot;Bar&quot;</span>], <span class="ruby-ivar">@index</span>.<span class="ruby-identifier">linearized_ancestors_of</span>(<span class="ruby-string">&quot;Bar&quot;</span>))
    <span class="ruby-keyword">end</span></pre>
                </div>
                <div id="method-i-test_linearizing_singleton_ancestors" class="method-entry">
                  <div class="method-info">
                    <h4 class="method-name">
                      test_linearizing_singleton_ancestors()

                        <button type="button" class="show-source">Show source</button>
                    </h4>

                    



                  </div>

                    <pre class="method-source hidden"><span class="ruby-comment"># File lib/ruby_indexer/test/index_test.rb, line 1660</span>
    <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">test_linearizing_singleton_ancestors</span>
      <span class="ruby-ivar">@index</span>.<span class="ruby-identifier">index_single</span>(<span class="ruby-constant">IndexablePath</span>.<span class="ruby-identifier">new</span>(<span class="ruby-keyword">nil</span>, <span class="ruby-string">&quot;/fake/path/foo.rb&quot;</span>), <span class="ruby-identifier">&lt;&lt;~RUBY</span>)
<span class="ruby-value">        module First
        end

        module Second
          include First
        end

        module Foo
          class Bar
            class &lt;&lt; self
              class Baz
                extend Second

                class &lt;&lt; self
                  include First
                end
              end
            end
          end
        end
</span><span class="ruby-identifier">      RUBY</span>

      <span class="ruby-identifier">assert_equal</span>(
        [
          <span class="ruby-string">&quot;Foo::Bar::&lt;Class:Bar&gt;::Baz::&lt;Class:Baz&gt;&quot;</span>,
          <span class="ruby-string">&quot;Second&quot;</span>,
          <span class="ruby-string">&quot;First&quot;</span>,
          <span class="ruby-string">&quot;Object::&lt;Class:Object&gt;&quot;</span>,
          <span class="ruby-string">&quot;BasicObject::&lt;Class:BasicObject&gt;&quot;</span>,
          <span class="ruby-string">&quot;Class&quot;</span>,
          <span class="ruby-string">&quot;Module&quot;</span>,
          <span class="ruby-string">&quot;Object&quot;</span>,
          <span class="ruby-string">&quot;Kernel&quot;</span>,
          <span class="ruby-string">&quot;BasicObject&quot;</span>,
        ],
        <span class="ruby-ivar">@index</span>.<span class="ruby-identifier">linearized_ancestors_of</span>(<span class="ruby-string">&quot;Foo::Bar::&lt;Class:Bar&gt;::Baz::&lt;Class:Baz&gt;&quot;</span>),
      )
    <span class="ruby-keyword">end</span></pre>
                </div>
                <div id="method-i-test_linearizing_singleton_ancestors_of_singleton_when_class_has_parent" class="method-entry">
                  <div class="method-info">
                    <h4 class="method-name">
                      test_linearizing_singleton_ancestors_of_singleton_when_class_has_parent()

                        <button type="button" class="show-source">Show source</button>
                    </h4>

                    



                  </div>

                    <pre class="method-source hidden"><span class="ruby-comment"># File lib/ruby_indexer/test/index_test.rb, line 1609</span>
    <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">test_linearizing_singleton_ancestors_of_singleton_when_class_has_parent</span>
      <span class="ruby-ivar">@index</span>.<span class="ruby-identifier">index_single</span>(<span class="ruby-constant">IndexablePath</span>.<span class="ruby-identifier">new</span>(<span class="ruby-keyword">nil</span>, <span class="ruby-string">&quot;/fake/path/foo.rb&quot;</span>), <span class="ruby-identifier">&lt;&lt;~RUBY</span>)
<span class="ruby-value">        class Foo; end

        class Bar &lt; Foo
        end

        class Baz &lt; Bar
          class &lt;&lt; self
            class &lt;&lt; self
            end
          end
        end
</span><span class="ruby-identifier">      RUBY</span>

      <span class="ruby-identifier">assert_equal</span>(
        [
          <span class="ruby-string">&quot;Baz::&lt;Class:Baz&gt;::&lt;Class:&lt;Class:Baz&gt;&gt;&quot;</span>,
          <span class="ruby-string">&quot;Bar::&lt;Class:Bar&gt;::&lt;Class:&lt;Class:Bar&gt;&gt;&quot;</span>,
          <span class="ruby-string">&quot;Foo::&lt;Class:Foo&gt;::&lt;Class:&lt;Class:Foo&gt;&gt;&quot;</span>,
          <span class="ruby-string">&quot;Object::&lt;Class:Object&gt;::&lt;Class:&lt;Class:Object&gt;&gt;&quot;</span>,
          <span class="ruby-string">&quot;BasicObject::&lt;Class:BasicObject&gt;::&lt;Class:&lt;Class:BasicObject&gt;&gt;&quot;</span>,
          <span class="ruby-string">&quot;Class::&lt;Class:Class&gt;&quot;</span>,
          <span class="ruby-string">&quot;Module::&lt;Class:Module&gt;&quot;</span>,
          <span class="ruby-string">&quot;Object::&lt;Class:Object&gt;&quot;</span>,
          <span class="ruby-string">&quot;BasicObject::&lt;Class:BasicObject&gt;&quot;</span>,
          <span class="ruby-string">&quot;Class&quot;</span>,
          <span class="ruby-string">&quot;Module&quot;</span>,
          <span class="ruby-string">&quot;Object&quot;</span>,
          <span class="ruby-string">&quot;Kernel&quot;</span>,
          <span class="ruby-string">&quot;BasicObject&quot;</span>,
        ],
        <span class="ruby-ivar">@index</span>.<span class="ruby-identifier">linearized_ancestors_of</span>(<span class="ruby-string">&quot;Baz::&lt;Class:Baz&gt;::&lt;Class:&lt;Class:Baz&gt;&gt;&quot;</span>),
      )
    <span class="ruby-keyword">end</span></pre>
                </div>
                <div id="method-i-test_linearizing_singleton_ancestors_when_class_has_parent" class="method-entry">
                  <div class="method-info">
                    <h4 class="method-name">
                      test_linearizing_singleton_ancestors_when_class_has_parent()

                        <button type="button" class="show-source">Show source</button>
                    </h4>

                    



                  </div>

                    <pre class="method-source hidden"><span class="ruby-comment"># File lib/ruby_indexer/test/index_test.rb, line 1701</span>
    <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">test_linearizing_singleton_ancestors_when_class_has_parent</span>
      <span class="ruby-ivar">@index</span>.<span class="ruby-identifier">index_single</span>(<span class="ruby-constant">IndexablePath</span>.<span class="ruby-identifier">new</span>(<span class="ruby-keyword">nil</span>, <span class="ruby-string">&quot;/fake/path/foo.rb&quot;</span>), <span class="ruby-identifier">&lt;&lt;~RUBY</span>)
<span class="ruby-value">        class Foo; end

        class Bar &lt; Foo
        end

        class Baz &lt; Bar
          class &lt;&lt; self
          end
        end
</span><span class="ruby-identifier">      RUBY</span>

      <span class="ruby-identifier">assert_equal</span>(
        [
          <span class="ruby-string">&quot;Baz::&lt;Class:Baz&gt;&quot;</span>,
          <span class="ruby-string">&quot;Bar::&lt;Class:Bar&gt;&quot;</span>,
          <span class="ruby-string">&quot;Foo::&lt;Class:Foo&gt;&quot;</span>,
          <span class="ruby-string">&quot;Object::&lt;Class:Object&gt;&quot;</span>,
          <span class="ruby-string">&quot;BasicObject::&lt;Class:BasicObject&gt;&quot;</span>,
          <span class="ruby-string">&quot;Class&quot;</span>,
          <span class="ruby-string">&quot;Module&quot;</span>,
          <span class="ruby-string">&quot;Object&quot;</span>,
          <span class="ruby-string">&quot;Kernel&quot;</span>,
          <span class="ruby-string">&quot;BasicObject&quot;</span>,
        ],
        <span class="ruby-ivar">@index</span>.<span class="ruby-identifier">linearized_ancestors_of</span>(<span class="ruby-string">&quot;Baz::&lt;Class:Baz&gt;&quot;</span>),
      )
    <span class="ruby-keyword">end</span></pre>
                </div>
                <div id="method-i-test_linearizing_singleton_object" class="method-entry">
                  <div class="method-info">
                    <h4 class="method-name">
                      test_linearizing_singleton_object()

                        <button type="button" class="show-source">Show source</button>
                    </h4>

                    



                  </div>

                    <pre class="method-source hidden"><span class="ruby-comment"># File lib/ruby_indexer/test/index_test.rb, line 1645</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">test_linearizing_singleton_object</span>
  <span class="ruby-identifier">assert_equal</span>(
    [
      <span class="ruby-string">&quot;Object::&lt;Class:Object&gt;&quot;</span>,
      <span class="ruby-string">&quot;BasicObject::&lt;Class:BasicObject&gt;&quot;</span>,
      <span class="ruby-string">&quot;Class&quot;</span>,
      <span class="ruby-string">&quot;Module&quot;</span>,
      <span class="ruby-string">&quot;Object&quot;</span>,
      <span class="ruby-string">&quot;Kernel&quot;</span>,
      <span class="ruby-string">&quot;BasicObject&quot;</span>,
    ],
    <span class="ruby-ivar">@index</span>.<span class="ruby-identifier">linearized_ancestors_of</span>(<span class="ruby-string">&quot;Object::&lt;Class:Object&gt;&quot;</span>),
  )
<span class="ruby-keyword">end</span></pre>
                </div>
                <div id="method-i-test_object_superclass_indexing_and_resolution_with_reopened_basic_object_class" class="method-entry">
                  <div class="method-info">
                    <h4 class="method-name">
                      test_object_superclass_indexing_and_resolution_with_reopened_basic_object_class()

                        <button type="button" class="show-source">Show source</button>
                    </h4>

                    



                  </div>

                    <pre class="method-source hidden"><span class="ruby-comment"># File lib/ruby_indexer/test/index_test.rb, line 1232</span>
    <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">test_object_superclass_indexing_and_resolution_with_reopened_basic_object_class</span>
      <span class="ruby-identifier">index</span>(<span class="ruby-identifier">&lt;&lt;~RUBY</span>)
<span class="ruby-value">        class BasicObject; end
</span><span class="ruby-identifier">      RUBY</span>

      <span class="ruby-identifier">entries</span> = <span class="ruby-ivar">@index</span>[<span class="ruby-string">&quot;BasicObject&quot;</span>]
      <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value">2</span>, <span class="ruby-identifier">entries</span>.<span class="ruby-identifier">length</span>)
      <span class="ruby-identifier">reopened_entry</span> = <span class="ruby-identifier">entries</span>.<span class="ruby-identifier">last</span>
      <span class="ruby-identifier">assert_nil</span>(<span class="ruby-identifier">reopened_entry</span>.<span class="ruby-identifier">parent_class</span>)
      <span class="ruby-identifier">assert_equal</span>([<span class="ruby-string">&quot;BasicObject&quot;</span>], <span class="ruby-ivar">@index</span>.<span class="ruby-identifier">linearized_ancestors_of</span>(<span class="ruby-string">&quot;BasicObject&quot;</span>))
    <span class="ruby-keyword">end</span></pre>
                </div>
                <div id="method-i-test_object_superclass_indexing_and_resolution_with_reopened_object_class" class="method-entry">
                  <div class="method-info">
                    <h4 class="method-name">
                      test_object_superclass_indexing_and_resolution_with_reopened_object_class()

                        <button type="button" class="show-source">Show source</button>
                    </h4>

                    



                  </div>

                    <pre class="method-source hidden"><span class="ruby-comment"># File lib/ruby_indexer/test/index_test.rb, line 1220</span>
    <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">test_object_superclass_indexing_and_resolution_with_reopened_object_class</span>
      <span class="ruby-identifier">index</span>(<span class="ruby-identifier">&lt;&lt;~RUBY</span>)
<span class="ruby-value">        class Object; end
</span><span class="ruby-identifier">      RUBY</span>

      <span class="ruby-identifier">entries</span> = <span class="ruby-ivar">@index</span>[<span class="ruby-string">&quot;Object&quot;</span>]
      <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value">2</span>, <span class="ruby-identifier">entries</span>.<span class="ruby-identifier">length</span>)
      <span class="ruby-identifier">reopened_entry</span> = <span class="ruby-identifier">entries</span>.<span class="ruby-identifier">last</span>
      <span class="ruby-identifier">assert_equal</span>(<span class="ruby-string">&quot;::BasicObject&quot;</span>, <span class="ruby-identifier">reopened_entry</span>.<span class="ruby-identifier">parent_class</span>)
      <span class="ruby-identifier">assert_equal</span>([<span class="ruby-string">&quot;Object&quot;</span>, <span class="ruby-string">&quot;Kernel&quot;</span>, <span class="ruby-string">&quot;BasicObject&quot;</span>], <span class="ruby-ivar">@index</span>.<span class="ruby-identifier">linearized_ancestors_of</span>(<span class="ruby-string">&quot;Object&quot;</span>))
    <span class="ruby-keyword">end</span></pre>
                </div>
                <div id="method-i-test_object_superclass_resolution" class="method-entry">
                  <div class="method-info">
                    <h4 class="method-name">
                      test_object_superclass_resolution()

                        <button type="button" class="show-source">Show source</button>
                    </h4>

                    



                  </div>

                    <pre class="method-source hidden"><span class="ruby-comment"># File lib/ruby_indexer/test/index_test.rb, line 1244</span>
    <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">test_object_superclass_resolution</span>
      <span class="ruby-identifier">index</span>(<span class="ruby-identifier">&lt;&lt;~RUBY</span>)
<span class="ruby-value">        module Foo
          class Object; end

          class Bar; end
          class Baz &lt; Object; end
        end
</span><span class="ruby-identifier">      RUBY</span>

      <span class="ruby-identifier">assert_equal</span>([<span class="ruby-string">&quot;Foo::Bar&quot;</span>, <span class="ruby-string">&quot;Object&quot;</span>, <span class="ruby-string">&quot;Kernel&quot;</span>, <span class="ruby-string">&quot;BasicObject&quot;</span>], <span class="ruby-ivar">@index</span>.<span class="ruby-identifier">linearized_ancestors_of</span>(<span class="ruby-string">&quot;Foo::Bar&quot;</span>))
      <span class="ruby-identifier">assert_equal</span>(
        [<span class="ruby-string">&quot;Foo::Baz&quot;</span>, <span class="ruby-string">&quot;Foo::Object&quot;</span>, <span class="ruby-string">&quot;Object&quot;</span>, <span class="ruby-string">&quot;Kernel&quot;</span>, <span class="ruby-string">&quot;BasicObject&quot;</span>],
        <span class="ruby-ivar">@index</span>.<span class="ruby-identifier">linearized_ancestors_of</span>(<span class="ruby-string">&quot;Foo::Baz&quot;</span>),
      )
    <span class="ruby-keyword">end</span></pre>
                </div>
                <div id="method-i-test_only_aliases_for_the_right_owner_are_resolved" class="method-entry">
                  <div class="method-info">
                    <h4 class="method-name">
                      test_only_aliases_for_the_right_owner_are_resolved()

                        <button type="button" class="show-source">Show source</button>
                    </h4>

                    



                  </div>

                    <pre class="method-source hidden"><span class="ruby-comment"># File lib/ruby_indexer/test/index_test.rb, line 1508</span>
    <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">test_only_aliases_for_the_right_owner_are_resolved</span>
      <span class="ruby-identifier">index</span>(<span class="ruby-identifier">&lt;&lt;~RUBY</span>)
<span class="ruby-value">        class Foo
          attr_reader :name
          alias_method :decorated_name, :name
        end

        class Bar
          alias_method :decorated_name, :to_s
        end
</span><span class="ruby-identifier">      RUBY</span>

      <span class="ruby-identifier">methods</span> = <span class="ruby-ivar">@index</span>.<span class="ruby-identifier">resolve_method</span>(<span class="ruby-string">&quot;decorated_name&quot;</span>, <span class="ruby-string">&quot;Foo&quot;</span>)
      <span class="ruby-identifier">refute_nil</span>(<span class="ruby-identifier">methods</span>)

      <span class="ruby-identifier">entry</span> = <span class="ruby-constant">T</span>.<span class="ruby-identifier">must</span>(<span class="ruby-identifier">methods</span>.<span class="ruby-identifier">first</span>)
      <span class="ruby-identifier">assert_kind_of</span>(<span class="ruby-constant">Entry</span><span class="ruby-operator">::</span><span class="ruby-constant">MethodAlias</span>, <span class="ruby-identifier">entry</span>)

      <span class="ruby-identifier">target</span> = <span class="ruby-identifier">entry</span>.<span class="ruby-identifier">target</span>
      <span class="ruby-identifier">assert_equal</span>(<span class="ruby-string">&quot;name&quot;</span>, <span class="ruby-identifier">target</span>.<span class="ruby-identifier">name</span>)
      <span class="ruby-identifier">assert_kind_of</span>(<span class="ruby-constant">Entry</span><span class="ruby-operator">::</span><span class="ruby-constant">Accessor</span>, <span class="ruby-identifier">target</span>)
      <span class="ruby-identifier">assert_equal</span>(<span class="ruby-string">&quot;Foo&quot;</span>, <span class="ruby-constant">T</span>.<span class="ruby-identifier">must</span>(<span class="ruby-identifier">target</span>.<span class="ruby-identifier">owner</span>).<span class="ruby-identifier">name</span>)

      <span class="ruby-identifier">other_decorated_name</span> = <span class="ruby-constant">T</span>.<span class="ruby-identifier">must</span>(<span class="ruby-ivar">@index</span>[<span class="ruby-string">&quot;decorated_name&quot;</span>].<span class="ruby-identifier">find</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">e</span><span class="ruby-operator">|</span> <span class="ruby-identifier">e</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Entry</span><span class="ruby-operator">::</span><span class="ruby-constant">UnresolvedMethodAlias</span>) })
      <span class="ruby-identifier">assert_kind_of</span>(<span class="ruby-constant">Entry</span><span class="ruby-operator">::</span><span class="ruby-constant">UnresolvedMethodAlias</span>, <span class="ruby-identifier">other_decorated_name</span>)
    <span class="ruby-keyword">end</span></pre>
                </div>
                <div id="method-i-test_prefix_search_for_methods" class="method-entry">
                  <div class="method-info">
                    <h4 class="method-name">
                      test_prefix_search_for_methods()

                        <button type="button" class="show-source">Show source</button>
                    </h4>

                    



                  </div>

                    <pre class="method-source hidden"><span class="ruby-comment"># File lib/ruby_indexer/test/index_test.rb, line 325</span>
    <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">test_prefix_search_for_methods</span>
      <span class="ruby-identifier">index</span>(<span class="ruby-identifier">&lt;&lt;~RUBY</span>)
<span class="ruby-value">        module Foo
          module Bar
            def qzx; end
          end
        end
</span><span class="ruby-identifier">      RUBY</span>

      <span class="ruby-identifier">entries</span> = <span class="ruby-ivar">@index</span>.<span class="ruby-identifier">prefix_search</span>(<span class="ruby-string">&quot;qz&quot;</span>)
      <span class="ruby-identifier">refute_empty</span>(<span class="ruby-identifier">entries</span>)

      <span class="ruby-identifier">entry</span> = <span class="ruby-constant">T</span>.<span class="ruby-identifier">must</span>(<span class="ruby-constant">T</span>.<span class="ruby-identifier">must</span>(<span class="ruby-identifier">entries</span>.<span class="ruby-identifier">first</span>).<span class="ruby-identifier">first</span>)
      <span class="ruby-identifier">assert_equal</span>(<span class="ruby-string">&quot;qzx&quot;</span>, <span class="ruby-identifier">entry</span>.<span class="ruby-identifier">name</span>)
    <span class="ruby-keyword">end</span></pre>
                </div>
                <div id="method-i-test_resolve_method_attribute" class="method-entry">
                  <div class="method-info">
                    <h4 class="method-name">
                      test_resolve_method_attribute()

                        <button type="button" class="show-source">Show source</button>
                    </h4>

                    



                  </div>

                    <pre class="method-source hidden"><span class="ruby-comment"># File lib/ruby_indexer/test/index_test.rb, line 252</span>
    <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">test_resolve_method_attribute</span>
      <span class="ruby-identifier">index</span>(<span class="ruby-identifier">&lt;&lt;~RUBY</span>)
<span class="ruby-value">        class Foo
          attr_reader :bar
        end
</span><span class="ruby-identifier">      RUBY</span>

      <span class="ruby-identifier">entries</span> = <span class="ruby-constant">T</span>.<span class="ruby-identifier">must</span>(<span class="ruby-ivar">@index</span>.<span class="ruby-identifier">resolve_method</span>(<span class="ruby-string">&quot;bar&quot;</span>, <span class="ruby-string">&quot;Foo&quot;</span>))
      <span class="ruby-identifier">assert_equal</span>(<span class="ruby-string">&quot;bar&quot;</span>, <span class="ruby-identifier">entries</span>.<span class="ruby-identifier">first</span>.<span class="ruby-identifier">name</span>)
      <span class="ruby-identifier">assert_equal</span>(<span class="ruby-string">&quot;Foo&quot;</span>, <span class="ruby-constant">T</span>.<span class="ruby-identifier">must</span>(<span class="ruby-identifier">entries</span>.<span class="ruby-identifier">first</span>.<span class="ruby-identifier">owner</span>).<span class="ruby-identifier">name</span>)
    <span class="ruby-keyword">end</span></pre>
                </div>
                <div id="method-i-test_resolve_method_inherited_only" class="method-entry">
                  <div class="method-info">
                    <h4 class="method-name">
                      test_resolve_method_inherited_only()

                        <button type="button" class="show-source">Show source</button>
                    </h4>

                    



                  </div>

                    <pre class="method-source hidden"><span class="ruby-comment"># File lib/ruby_indexer/test/index_test.rb, line 288</span>
    <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">test_resolve_method_inherited_only</span>
      <span class="ruby-identifier">index</span>(<span class="ruby-identifier">&lt;&lt;~RUBY</span>)
<span class="ruby-value">        class Bar
          def baz; end
        end

        class Foo &lt; Bar
          def baz; end
        end
</span><span class="ruby-identifier">      RUBY</span>

      <span class="ruby-identifier">entry</span> = <span class="ruby-constant">T</span>.<span class="ruby-identifier">must</span>(<span class="ruby-ivar">@index</span>.<span class="ruby-identifier">resolve_method</span>(<span class="ruby-string">&quot;baz&quot;</span>, <span class="ruby-string">&quot;Foo&quot;</span>, <span class="ruby-value">inherited_only:</span> <span class="ruby-keyword">true</span>).<span class="ruby-identifier">first</span>)

      <span class="ruby-identifier">assert_equal</span>(<span class="ruby-string">&quot;Bar&quot;</span>, <span class="ruby-constant">T</span>.<span class="ruby-identifier">must</span>(<span class="ruby-identifier">entry</span>.<span class="ruby-identifier">owner</span>).<span class="ruby-identifier">name</span>)
    <span class="ruby-keyword">end</span></pre>
                </div>
                <div id="method-i-test_resolve_method_inherited_only_for_prepended_module" class="method-entry">
                  <div class="method-info">
                    <h4 class="method-name">
                      test_resolve_method_inherited_only_for_prepended_module()

                        <button type="button" class="show-source">Show source</button>
                    </h4>

                    



                  </div>

                    <pre class="method-source hidden"><span class="ruby-comment"># File lib/ruby_indexer/test/index_test.rb, line 304</span>
    <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">test_resolve_method_inherited_only_for_prepended_module</span>
      <span class="ruby-identifier">index</span>(<span class="ruby-identifier">&lt;&lt;~RUBY</span>)
<span class="ruby-value">        module Bar
          def baz
            super
          end
        end

        class Foo
          prepend Bar

          def baz; end
        end
</span><span class="ruby-identifier">      RUBY</span>

      <span class="ruby-comment"># This test is just to document the fact that we don&#39;t yet support resolving inherited methods for modules that</span>
      <span class="ruby-comment"># are prepended. The only way to support this is to find all namespaces that have the module a subtype, so that we</span>
      <span class="ruby-comment"># can show the results for everywhere the module has been prepended.</span>
      <span class="ruby-identifier">assert_nil</span>(<span class="ruby-ivar">@index</span>.<span class="ruby-identifier">resolve_method</span>(<span class="ruby-string">&quot;baz&quot;</span>, <span class="ruby-string">&quot;Bar&quot;</span>, <span class="ruby-value">inherited_only:</span> <span class="ruby-keyword">true</span>))
    <span class="ruby-keyword">end</span></pre>
                </div>
                <div id="method-i-test_resolve_method_with_class_name_conflict" class="method-entry">
                  <div class="method-info">
                    <h4 class="method-name">
                      test_resolve_method_with_class_name_conflict()

                        <button type="button" class="show-source">Show source</button>
                    </h4>

                    



                  </div>

                    <pre class="method-source hidden"><span class="ruby-comment"># File lib/ruby_indexer/test/index_test.rb, line 237</span>
    <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">test_resolve_method_with_class_name_conflict</span>
      <span class="ruby-identifier">index</span>(<span class="ruby-identifier">&lt;&lt;~RUBY</span>)
<span class="ruby-value">        class Array
        end

        class Foo
          def Array(*args); end
        end
</span><span class="ruby-identifier">      RUBY</span>

      <span class="ruby-identifier">entries</span> = <span class="ruby-constant">T</span>.<span class="ruby-identifier">must</span>(<span class="ruby-ivar">@index</span>.<span class="ruby-identifier">resolve_method</span>(<span class="ruby-string">&quot;Array&quot;</span>, <span class="ruby-string">&quot;Foo&quot;</span>))
      <span class="ruby-identifier">assert_equal</span>(<span class="ruby-string">&quot;Array&quot;</span>, <span class="ruby-identifier">entries</span>.<span class="ruby-identifier">first</span>.<span class="ruby-identifier">name</span>)
      <span class="ruby-identifier">assert_equal</span>(<span class="ruby-string">&quot;Foo&quot;</span>, <span class="ruby-constant">T</span>.<span class="ruby-identifier">must</span>(<span class="ruby-identifier">entries</span>.<span class="ruby-identifier">first</span>.<span class="ruby-identifier">owner</span>).<span class="ruby-identifier">name</span>)
    <span class="ruby-keyword">end</span></pre>
                </div>
                <div id="method-i-test_resolve_method_with_known_receiver" class="method-entry">
                  <div class="method-info">
                    <h4 class="method-name">
                      test_resolve_method_with_known_receiver()

                        <button type="button" class="show-source">Show source</button>
                    </h4>

                    



                  </div>

                    <pre class="method-source hidden"><span class="ruby-comment"># File lib/ruby_indexer/test/index_test.rb, line 223</span>
    <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">test_resolve_method_with_known_receiver</span>
      <span class="ruby-identifier">index</span>(<span class="ruby-identifier">&lt;&lt;~RUBY</span>)
<span class="ruby-value">        module Foo
          module Bar
            def baz; end
          end
        end
</span><span class="ruby-identifier">      RUBY</span>

      <span class="ruby-identifier">entries</span> = <span class="ruby-constant">T</span>.<span class="ruby-identifier">must</span>(<span class="ruby-ivar">@index</span>.<span class="ruby-identifier">resolve_method</span>(<span class="ruby-string">&quot;baz&quot;</span>, <span class="ruby-string">&quot;Foo::Bar&quot;</span>))
      <span class="ruby-identifier">assert_equal</span>(<span class="ruby-string">&quot;baz&quot;</span>, <span class="ruby-identifier">entries</span>.<span class="ruby-identifier">first</span>.<span class="ruby-identifier">name</span>)
      <span class="ruby-identifier">assert_equal</span>(<span class="ruby-string">&quot;Foo::Bar&quot;</span>, <span class="ruby-constant">T</span>.<span class="ruby-identifier">must</span>(<span class="ruby-identifier">entries</span>.<span class="ruby-identifier">first</span>.<span class="ruby-identifier">owner</span>).<span class="ruby-identifier">name</span>)
    <span class="ruby-keyword">end</span></pre>
                </div>
                <div id="method-i-test_resolve_method_with_two_definitions" class="method-entry">
                  <div class="method-info">
                    <h4 class="method-name">
                      test_resolve_method_with_two_definitions()

                        <button type="button" class="show-source">Show source</button>
                    </h4>

                    



                  </div>

                    <pre class="method-source hidden"><span class="ruby-comment"># File lib/ruby_indexer/test/index_test.rb, line 264</span>
    <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">test_resolve_method_with_two_definitions</span>
      <span class="ruby-identifier">index</span>(<span class="ruby-identifier">&lt;&lt;~RUBY</span>)
<span class="ruby-value">        class Foo
          # Hello from first `bar`
          def bar; end
        end

        class Foo
          # Hello from second `bar`
          def bar; end
        end
</span><span class="ruby-identifier">      RUBY</span>

      <span class="ruby-identifier">first_entry</span>, <span class="ruby-identifier">second_entry</span> = <span class="ruby-constant">T</span>.<span class="ruby-identifier">must</span>(<span class="ruby-ivar">@index</span>.<span class="ruby-identifier">resolve_method</span>(<span class="ruby-string">&quot;bar&quot;</span>, <span class="ruby-string">&quot;Foo&quot;</span>))

      <span class="ruby-identifier">assert_equal</span>(<span class="ruby-string">&quot;bar&quot;</span>, <span class="ruby-identifier">first_entry</span>.<span class="ruby-identifier">name</span>)
      <span class="ruby-identifier">assert_equal</span>(<span class="ruby-string">&quot;Foo&quot;</span>, <span class="ruby-constant">T</span>.<span class="ruby-identifier">must</span>(<span class="ruby-identifier">first_entry</span>.<span class="ruby-identifier">owner</span>).<span class="ruby-identifier">name</span>)
      <span class="ruby-identifier">assert_includes</span>(<span class="ruby-identifier">first_entry</span>.<span class="ruby-identifier">comments</span>, <span class="ruby-string">&quot;Hello from first `bar`&quot;</span>)

      <span class="ruby-identifier">assert_equal</span>(<span class="ruby-string">&quot;bar&quot;</span>, <span class="ruby-identifier">second_entry</span>.<span class="ruby-identifier">name</span>)
      <span class="ruby-identifier">assert_equal</span>(<span class="ruby-string">&quot;Foo&quot;</span>, <span class="ruby-constant">T</span>.<span class="ruby-identifier">must</span>(<span class="ruby-identifier">second_entry</span>.<span class="ruby-identifier">owner</span>).<span class="ruby-identifier">name</span>)
      <span class="ruby-identifier">assert_includes</span>(<span class="ruby-identifier">second_entry</span>.<span class="ruby-identifier">comments</span>, <span class="ruby-string">&quot;Hello from second `bar`&quot;</span>)
    <span class="ruby-keyword">end</span></pre>
                </div>
                <div id="method-i-test_resolve_normalizes_top_level_names" class="method-entry">
                  <div class="method-info">
                    <h4 class="method-name">
                      test_resolve_normalizes_top_level_names()

                        <button type="button" class="show-source">Show source</button>
                    </h4>

                    



                  </div>

                    <pre class="method-source hidden"><span class="ruby-comment"># File lib/ruby_indexer/test/index_test.rb, line 162</span>
    <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">test_resolve_normalizes_top_level_names</span>
      <span class="ruby-ivar">@index</span>.<span class="ruby-identifier">index_single</span>(<span class="ruby-constant">IndexablePath</span>.<span class="ruby-identifier">new</span>(<span class="ruby-string">&quot;/fake&quot;</span>, <span class="ruby-string">&quot;/fake/path/foo.rb&quot;</span>), <span class="ruby-identifier">&lt;&lt;~RUBY</span>)
<span class="ruby-value">        class Bar; end

        module Foo
          class Bar; end
        end
</span><span class="ruby-identifier">      RUBY</span>

      <span class="ruby-identifier">entries</span> = <span class="ruby-ivar">@index</span>.<span class="ruby-identifier">resolve</span>(<span class="ruby-string">&quot;::Foo::Bar&quot;</span>, [])
      <span class="ruby-identifier">refute_nil</span>(<span class="ruby-identifier">entries</span>)

      <span class="ruby-identifier">assert_equal</span>(<span class="ruby-string">&quot;Foo::Bar&quot;</span>, <span class="ruby-identifier">entries</span>.<span class="ruby-identifier">first</span>.<span class="ruby-identifier">name</span>)

      <span class="ruby-identifier">entries</span> = <span class="ruby-ivar">@index</span>.<span class="ruby-identifier">resolve</span>(<span class="ruby-string">&quot;::Bar&quot;</span>, [<span class="ruby-string">&quot;Foo&quot;</span>])
      <span class="ruby-identifier">refute_nil</span>(<span class="ruby-identifier">entries</span>)

      <span class="ruby-identifier">assert_equal</span>(<span class="ruby-string">&quot;Bar&quot;</span>, <span class="ruby-identifier">entries</span>.<span class="ruby-identifier">first</span>.<span class="ruby-identifier">name</span>)
    <span class="ruby-keyword">end</span></pre>
                </div>
                <div id="method-i-test_resolving_a_qualified_reference" class="method-entry">
                  <div class="method-info">
                    <h4 class="method-name">
                      test_resolving_a_qualified_reference()

                        <button type="button" class="show-source">Show source</button>
                    </h4>

                    



                  </div>

                    <pre class="method-source hidden"><span class="ruby-comment"># File lib/ruby_indexer/test/index_test.rb, line 1194</span>
    <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">test_resolving_a_qualified_reference</span>
      <span class="ruby-identifier">index</span>(<span class="ruby-identifier">&lt;&lt;~RUBY</span>)
<span class="ruby-value">        class Base
          module Third
            CONST = 1
          end
        end

        class Foo
          module Third
            CONST = 2
          end

          class Second &lt; Base
          end
        end
</span><span class="ruby-identifier">      RUBY</span>

      <span class="ruby-identifier">foo_entry</span> = <span class="ruby-constant">T</span>.<span class="ruby-identifier">must</span>(<span class="ruby-ivar">@index</span>.<span class="ruby-identifier">resolve</span>(<span class="ruby-string">&quot;Third::CONST&quot;</span>, [<span class="ruby-string">&quot;Foo&quot;</span>])&amp;.<span class="ruby-identifier">first</span>)
      <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value">9</span>, <span class="ruby-identifier">foo_entry</span>.<span class="ruby-identifier">location</span>.<span class="ruby-identifier">start_line</span>)
    <span class="ruby-keyword">end</span></pre>
                </div>
                <div id="method-i-test_resolving_aliases_to_non_existing_constants_with_conflicting_names" class="method-entry">
                  <div class="method-info">
                    <h4 class="method-name">
                      test_resolving_aliases_to_non_existing_constants_with_conflicting_names()

                        <button type="button" class="show-source">Show source</button>
                    </h4>

                    



                  </div>

                    <pre class="method-source hidden"><span class="ruby-comment"># File lib/ruby_indexer/test/index_test.rb, line 182</span>
    <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">test_resolving_aliases_to_non_existing_constants_with_conflicting_names</span>
      <span class="ruby-ivar">@index</span>.<span class="ruby-identifier">index_single</span>(<span class="ruby-constant">IndexablePath</span>.<span class="ruby-identifier">new</span>(<span class="ruby-string">&quot;/fake&quot;</span>, <span class="ruby-string">&quot;/fake/path/foo.rb&quot;</span>), <span class="ruby-identifier">&lt;&lt;~RUBY</span>)
<span class="ruby-value">        class Float
        end

        module Foo
          class Float &lt; self
            INFINITY = ::Float::INFINITY
          end
        end
</span><span class="ruby-identifier">      RUBY</span>

      <span class="ruby-identifier">entry</span> = <span class="ruby-ivar">@index</span>.<span class="ruby-identifier">resolve</span>(<span class="ruby-string">&quot;INFINITY&quot;</span>, [<span class="ruby-string">&quot;Foo&quot;</span>, <span class="ruby-string">&quot;Float&quot;</span>]).<span class="ruby-identifier">first</span>
      <span class="ruby-identifier">refute_nil</span>(<span class="ruby-identifier">entry</span>)

      <span class="ruby-identifier">assert_instance_of</span>(<span class="ruby-constant">Entry</span><span class="ruby-operator">::</span><span class="ruby-constant">UnresolvedAlias</span>, <span class="ruby-identifier">entry</span>)
    <span class="ruby-keyword">end</span></pre>
                </div>
                <div id="method-i-test_resolving_an_inherited_method" class="method-entry">
                  <div class="method-info">
                    <h4 class="method-name">
                      test_resolving_an_inherited_method()

                        <button type="button" class="show-source">Show source</button>
                    </h4>

                    



                  </div>

                    <pre class="method-source hidden"><span class="ruby-comment"># File lib/ruby_indexer/test/index_test.rb, line 723</span>
    <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">test_resolving_an_inherited_method</span>
      <span class="ruby-identifier">index</span>(<span class="ruby-identifier">&lt;&lt;~RUBY</span>)
<span class="ruby-value">        module Foo
          def baz; end
        end

        class Bar
          def qux; end
        end

        class Wow &lt; Bar
          include Foo
        end
</span><span class="ruby-identifier">      RUBY</span>

      <span class="ruby-identifier">entry</span> = <span class="ruby-constant">T</span>.<span class="ruby-identifier">must</span>(<span class="ruby-ivar">@index</span>.<span class="ruby-identifier">resolve_method</span>(<span class="ruby-string">&quot;baz&quot;</span>, <span class="ruby-string">&quot;Wow&quot;</span>)&amp;.<span class="ruby-identifier">first</span>)
      <span class="ruby-identifier">assert_equal</span>(<span class="ruby-string">&quot;baz&quot;</span>, <span class="ruby-identifier">entry</span>.<span class="ruby-identifier">name</span>)
      <span class="ruby-identifier">assert_equal</span>(<span class="ruby-string">&quot;Foo&quot;</span>, <span class="ruby-constant">T</span>.<span class="ruby-identifier">must</span>(<span class="ruby-identifier">entry</span>.<span class="ruby-identifier">owner</span>).<span class="ruby-identifier">name</span>)

      <span class="ruby-identifier">entry</span> = <span class="ruby-constant">T</span>.<span class="ruby-identifier">must</span>(<span class="ruby-ivar">@index</span>.<span class="ruby-identifier">resolve_method</span>(<span class="ruby-string">&quot;qux&quot;</span>, <span class="ruby-string">&quot;Wow&quot;</span>)&amp;.<span class="ruby-identifier">first</span>)
      <span class="ruby-identifier">assert_equal</span>(<span class="ruby-string">&quot;qux&quot;</span>, <span class="ruby-identifier">entry</span>.<span class="ruby-identifier">name</span>)
      <span class="ruby-identifier">assert_equal</span>(<span class="ruby-string">&quot;Bar&quot;</span>, <span class="ruby-constant">T</span>.<span class="ruby-identifier">must</span>(<span class="ruby-identifier">entry</span>.<span class="ruby-identifier">owner</span>).<span class="ruby-identifier">name</span>)
    <span class="ruby-keyword">end</span></pre>
                </div>
                <div id="method-i-test_resolving_an_inherited_method_lands_on_first_match" class="method-entry">
                  <div class="method-info">
                    <h4 class="method-name">
                      test_resolving_an_inherited_method_lands_on_first_match()

                        <button type="button" class="show-source">Show source</button>
                    </h4>

                    



                  </div>

                    <pre class="method-source hidden"><span class="ruby-comment"># File lib/ruby_indexer/test/index_test.rb, line 747</span>
    <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">test_resolving_an_inherited_method_lands_on_first_match</span>
      <span class="ruby-identifier">index</span>(<span class="ruby-identifier">&lt;&lt;~RUBY</span>)
<span class="ruby-value">        module Foo
          def qux; end
        end

        class Bar
          def qux; end
        end

        class Wow &lt; Bar
          prepend Foo

          def qux; end
        end
</span><span class="ruby-identifier">      RUBY</span>

      <span class="ruby-identifier">entries</span> = <span class="ruby-constant">T</span>.<span class="ruby-identifier">must</span>(<span class="ruby-ivar">@index</span>.<span class="ruby-identifier">resolve_method</span>(<span class="ruby-string">&quot;qux&quot;</span>, <span class="ruby-string">&quot;Wow&quot;</span>))
      <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value">1</span>, <span class="ruby-identifier">entries</span>.<span class="ruby-identifier">length</span>)

      <span class="ruby-identifier">entry</span> = <span class="ruby-constant">T</span>.<span class="ruby-identifier">must</span>(<span class="ruby-identifier">entries</span>.<span class="ruby-identifier">first</span>)
      <span class="ruby-identifier">assert_equal</span>(<span class="ruby-string">&quot;qux&quot;</span>, <span class="ruby-identifier">entry</span>.<span class="ruby-identifier">name</span>)
      <span class="ruby-identifier">assert_equal</span>(<span class="ruby-string">&quot;Foo&quot;</span>, <span class="ruby-constant">T</span>.<span class="ruby-identifier">must</span>(<span class="ruby-identifier">entry</span>.<span class="ruby-identifier">owner</span>).<span class="ruby-identifier">name</span>)
    <span class="ruby-keyword">end</span></pre>
                </div>
                <div id="method-i-test_resolving_circular_alias" class="method-entry">
                  <div class="method-info">
                    <h4 class="method-name">
                      test_resolving_circular_alias()

                        <button type="button" class="show-source">Show source</button>
                    </h4>

                    



                  </div>

                    <pre class="method-source hidden"><span class="ruby-comment"># File lib/ruby_indexer/test/index_test.rb, line 1008</span>
    <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">test_resolving_circular_alias</span>
      <span class="ruby-identifier">index</span>(<span class="ruby-identifier">&lt;&lt;~RUBY</span>)
<span class="ruby-value">        module Namespace
          FOO = BAR
          BAR = FOO
        end
</span><span class="ruby-identifier">      RUBY</span>

      <span class="ruby-identifier">foo_entry</span> = <span class="ruby-constant">T</span>.<span class="ruby-identifier">must</span>(<span class="ruby-ivar">@index</span>.<span class="ruby-identifier">resolve</span>(<span class="ruby-string">&quot;FOO&quot;</span>, [<span class="ruby-string">&quot;Namespace&quot;</span>])&amp;.<span class="ruby-identifier">first</span>)
      <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value">2</span>, <span class="ruby-identifier">foo_entry</span>.<span class="ruby-identifier">location</span>.<span class="ruby-identifier">start_line</span>)
      <span class="ruby-identifier">assert_instance_of</span>(<span class="ruby-constant">Entry</span><span class="ruby-operator">::</span><span class="ruby-constant">Alias</span>, <span class="ruby-identifier">foo_entry</span>)

      <span class="ruby-identifier">bar_entry</span> = <span class="ruby-constant">T</span>.<span class="ruby-identifier">must</span>(<span class="ruby-ivar">@index</span>.<span class="ruby-identifier">resolve</span>(<span class="ruby-string">&quot;BAR&quot;</span>, [<span class="ruby-string">&quot;Namespace&quot;</span>])&amp;.<span class="ruby-identifier">first</span>)
      <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value">3</span>, <span class="ruby-identifier">bar_entry</span>.<span class="ruby-identifier">location</span>.<span class="ruby-identifier">start_line</span>)
      <span class="ruby-identifier">assert_instance_of</span>(<span class="ruby-constant">Entry</span><span class="ruby-operator">::</span><span class="ruby-constant">Alias</span>, <span class="ruby-identifier">bar_entry</span>)
    <span class="ruby-keyword">end</span></pre>
                </div>
                <div id="method-i-test_resolving_circular_alias_three_levels" class="method-entry">
                  <div class="method-info">
                    <h4 class="method-name">
                      test_resolving_circular_alias_three_levels()

                        <button type="button" class="show-source">Show source</button>
                    </h4>

                    



                  </div>

                    <pre class="method-source hidden"><span class="ruby-comment"># File lib/ruby_indexer/test/index_test.rb, line 1025</span>
    <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">test_resolving_circular_alias_three_levels</span>
      <span class="ruby-identifier">index</span>(<span class="ruby-identifier">&lt;&lt;~RUBY</span>)
<span class="ruby-value">        module Namespace
          FOO = BAR
          BAR = BAZ
          BAZ = FOO
        end
</span><span class="ruby-identifier">      RUBY</span>

      <span class="ruby-identifier">foo_entry</span> = <span class="ruby-constant">T</span>.<span class="ruby-identifier">must</span>(<span class="ruby-ivar">@index</span>.<span class="ruby-identifier">resolve</span>(<span class="ruby-string">&quot;FOO&quot;</span>, [<span class="ruby-string">&quot;Namespace&quot;</span>])&amp;.<span class="ruby-identifier">first</span>)
      <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value">2</span>, <span class="ruby-identifier">foo_entry</span>.<span class="ruby-identifier">location</span>.<span class="ruby-identifier">start_line</span>)
      <span class="ruby-identifier">assert_instance_of</span>(<span class="ruby-constant">Entry</span><span class="ruby-operator">::</span><span class="ruby-constant">Alias</span>, <span class="ruby-identifier">foo_entry</span>)

      <span class="ruby-identifier">bar_entry</span> = <span class="ruby-constant">T</span>.<span class="ruby-identifier">must</span>(<span class="ruby-ivar">@index</span>.<span class="ruby-identifier">resolve</span>(<span class="ruby-string">&quot;BAR&quot;</span>, [<span class="ruby-string">&quot;Namespace&quot;</span>])&amp;.<span class="ruby-identifier">first</span>)
      <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value">3</span>, <span class="ruby-identifier">bar_entry</span>.<span class="ruby-identifier">location</span>.<span class="ruby-identifier">start_line</span>)
      <span class="ruby-identifier">assert_instance_of</span>(<span class="ruby-constant">Entry</span><span class="ruby-operator">::</span><span class="ruby-constant">Alias</span>, <span class="ruby-identifier">bar_entry</span>)

      <span class="ruby-identifier">baz_entry</span> = <span class="ruby-constant">T</span>.<span class="ruby-identifier">must</span>(<span class="ruby-ivar">@index</span>.<span class="ruby-identifier">resolve</span>(<span class="ruby-string">&quot;BAZ&quot;</span>, [<span class="ruby-string">&quot;Namespace&quot;</span>])&amp;.<span class="ruby-identifier">first</span>)
      <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value">4</span>, <span class="ruby-identifier">baz_entry</span>.<span class="ruby-identifier">location</span>.<span class="ruby-identifier">start_line</span>)
      <span class="ruby-identifier">assert_instance_of</span>(<span class="ruby-constant">Entry</span><span class="ruby-operator">::</span><span class="ruby-constant">Alias</span>, <span class="ruby-identifier">baz_entry</span>)
    <span class="ruby-keyword">end</span></pre>
                </div>
                <div id="method-i-test_resolving_circular_method_aliases" class="method-entry">
                  <div class="method-info">
                    <h4 class="method-name">
                      test_resolving_circular_method_aliases()

                        <button type="button" class="show-source">Show source</button>
                    </h4>

                    



                  </div>

                    <pre class="method-source hidden"><span class="ruby-comment"># File lib/ruby_indexer/test/index_test.rb, line 1478</span>
    <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">test_resolving_circular_method_aliases</span>
      <span class="ruby-identifier">index</span>(<span class="ruby-identifier">&lt;&lt;~RUBY</span>)
<span class="ruby-value">        class Foo
          alias bar bar
        end
</span><span class="ruby-identifier">      RUBY</span>

      <span class="ruby-comment"># It&#39;s not possible to resolve an alias that points to itself</span>
      <span class="ruby-identifier">methods</span> = <span class="ruby-ivar">@index</span>.<span class="ruby-identifier">resolve_method</span>(<span class="ruby-string">&quot;bar&quot;</span>, <span class="ruby-string">&quot;Foo&quot;</span>)
      <span class="ruby-identifier">assert_nil</span>(<span class="ruby-identifier">methods</span>)

      <span class="ruby-identifier">entry</span> = <span class="ruby-constant">T</span>.<span class="ruby-identifier">must</span>(<span class="ruby-ivar">@index</span>[<span class="ruby-string">&quot;bar&quot;</span>].<span class="ruby-identifier">first</span>)
      <span class="ruby-identifier">assert_kind_of</span>(<span class="ruby-constant">Entry</span><span class="ruby-operator">::</span><span class="ruby-constant">UnresolvedMethodAlias</span>, <span class="ruby-identifier">entry</span>)
    <span class="ruby-keyword">end</span></pre>
                </div>
                <div id="method-i-test_resolving_constants_favors_ancestors_over_top_level" class="method-entry">
                  <div class="method-info">
                    <h4 class="method-name">
                      test_resolving_constants_favors_ancestors_over_top_level()

                        <button type="button" class="show-source">Show source</button>
                    </h4>

                    



                  </div>

                    <pre class="method-source hidden"><span class="ruby-comment"># File lib/ruby_indexer/test/index_test.rb, line 984</span>
    <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">test_resolving_constants_favors_ancestors_over_top_level</span>
      <span class="ruby-identifier">index</span>(<span class="ruby-identifier">&lt;&lt;~RUBY</span>)
<span class="ruby-value">        module Value1
          CONST = 1
        end

        module Value2
          CONST = 2
        end

        CONST = 3
        module First
          include Value1

          module Second
            include Value2
          end
        end
</span><span class="ruby-identifier">      RUBY</span>

      <span class="ruby-identifier">entry</span> = <span class="ruby-constant">T</span>.<span class="ruby-identifier">must</span>(<span class="ruby-ivar">@index</span>.<span class="ruby-identifier">resolve</span>(<span class="ruby-string">&quot;CONST&quot;</span>, [<span class="ruby-string">&quot;First&quot;</span>, <span class="ruby-string">&quot;Second&quot;</span>])&amp;.<span class="ruby-identifier">first</span>)
      <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value">6</span>, <span class="ruby-identifier">entry</span>.<span class="ruby-identifier">location</span>.<span class="ruby-identifier">start_line</span>)
    <span class="ruby-keyword">end</span></pre>
                </div>
                <div id="method-i-test_resolving_constants_in_aliased_namespace" class="method-entry">
                  <div class="method-info">
                    <h4 class="method-name">
                      test_resolving_constants_in_aliased_namespace()

                        <button type="button" class="show-source">Show source</button>
                    </h4>

                    



                  </div>

                    <pre class="method-source hidden"><span class="ruby-comment"># File lib/ruby_indexer/test/index_test.rb, line 1047</span>
    <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">test_resolving_constants_in_aliased_namespace</span>
      <span class="ruby-identifier">index</span>(<span class="ruby-identifier">&lt;&lt;~RUBY</span>)
<span class="ruby-value">        module Original
          module Something
            CONST = 123
          end
        end

        module Other
          ALIAS = Original::Something
        end

        module Third
          Other::ALIAS::CONST
        end
</span><span class="ruby-identifier">      RUBY</span>

      <span class="ruby-identifier">entry</span> = <span class="ruby-constant">T</span>.<span class="ruby-identifier">must</span>(<span class="ruby-ivar">@index</span>.<span class="ruby-identifier">resolve</span>(<span class="ruby-string">&quot;Other::ALIAS::CONST&quot;</span>, [<span class="ruby-string">&quot;Third&quot;</span>])&amp;.<span class="ruby-identifier">first</span>)
      <span class="ruby-identifier">assert_kind_of</span>(<span class="ruby-constant">Entry</span><span class="ruby-operator">::</span><span class="ruby-constant">Constant</span>, <span class="ruby-identifier">entry</span>)
      <span class="ruby-identifier">assert_equal</span>(<span class="ruby-string">&quot;Original::Something::CONST&quot;</span>, <span class="ruby-identifier">entry</span>.<span class="ruby-identifier">name</span>)
    <span class="ruby-keyword">end</span></pre>
                </div>
                <div id="method-i-test_resolving_constants_in_singleton_contexts" class="method-entry">
                  <div class="method-info">
                    <h4 class="method-name">
                      test_resolving_constants_in_singleton_contexts()

                        <button type="button" class="show-source">Show source</button>
                    </h4>

                    



                  </div>

                    <pre class="method-source hidden"><span class="ruby-comment"># File lib/ruby_indexer/test/index_test.rb, line 1323</span>
    <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">test_resolving_constants_in_singleton_contexts</span>
      <span class="ruby-ivar">@index</span>.<span class="ruby-identifier">index_single</span>(<span class="ruby-constant">IndexablePath</span>.<span class="ruby-identifier">new</span>(<span class="ruby-keyword">nil</span>, <span class="ruby-string">&quot;/fake/path/foo.rb&quot;</span>), <span class="ruby-identifier">&lt;&lt;~RUBY</span>)
<span class="ruby-value">        module Foo
          class Bar
            CONST = 3

            class &lt;&lt; self
              CONST = 2

              class Baz
                CONST = 1

                class &lt;&lt; self
                end
              end
            end
          end
        end
</span><span class="ruby-identifier">      RUBY</span>

      <span class="ruby-identifier">entry</span> = <span class="ruby-ivar">@index</span>.<span class="ruby-identifier">resolve</span>(<span class="ruby-string">&quot;CONST&quot;</span>, [<span class="ruby-string">&quot;Foo&quot;</span>, <span class="ruby-string">&quot;Bar&quot;</span>, <span class="ruby-string">&quot;&lt;Class:Bar&gt;&quot;</span>, <span class="ruby-string">&quot;Baz&quot;</span>, <span class="ruby-string">&quot;&lt;Class:Baz&gt;&quot;</span>])&amp;.<span class="ruby-identifier">first</span>
      <span class="ruby-identifier">refute_nil</span>(<span class="ruby-identifier">entry</span>)
      <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value">9</span>, <span class="ruby-constant">T</span>.<span class="ruby-identifier">must</span>(<span class="ruby-identifier">entry</span>).<span class="ruby-identifier">location</span>.<span class="ruby-identifier">start_line</span>)
    <span class="ruby-keyword">end</span></pre>
                </div>
                <div id="method-i-test_resolving_inherited_alised_namespace" class="method-entry">
                  <div class="method-info">
                    <h4 class="method-name">
                      test_resolving_inherited_alised_namespace()

                        <button type="button" class="show-source">Show source</button>
                    </h4>

                    



                  </div>

                    <pre class="method-source hidden"><span class="ruby-comment"># File lib/ruby_indexer/test/index_test.rb, line 907</span>
    <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">test_resolving_inherited_alised_namespace</span>
      <span class="ruby-identifier">index</span>(<span class="ruby-identifier">&lt;&lt;~RUBY</span>)
<span class="ruby-value">        module Bar
          TARGET = 123
        end

        module Foo
          CONST = Bar
        end

        module Namespace
          class Bar
            include Foo
          end
        end
</span><span class="ruby-identifier">      RUBY</span>

      <span class="ruby-identifier">entry</span> = <span class="ruby-constant">T</span>.<span class="ruby-identifier">must</span>(<span class="ruby-ivar">@index</span>.<span class="ruby-identifier">resolve</span>(<span class="ruby-string">&quot;Foo::CONST::TARGET&quot;</span>, [])&amp;.<span class="ruby-identifier">first</span>)
      <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value">2</span>, <span class="ruby-identifier">entry</span>.<span class="ruby-identifier">location</span>.<span class="ruby-identifier">start_line</span>)

      <span class="ruby-identifier">entry</span> = <span class="ruby-constant">T</span>.<span class="ruby-identifier">must</span>(<span class="ruby-ivar">@index</span>.<span class="ruby-identifier">resolve</span>(<span class="ruby-string">&quot;Namespace::Bar::CONST::TARGET&quot;</span>, [])&amp;.<span class="ruby-identifier">first</span>)
      <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value">2</span>, <span class="ruby-identifier">entry</span>.<span class="ruby-identifier">location</span>.<span class="ruby-identifier">start_line</span>)
    <span class="ruby-keyword">end</span></pre>
                </div>
                <div id="method-i-test_resolving_inherited_constants" class="method-entry">
                  <div class="method-info">
                    <h4 class="method-name">
                      test_resolving_inherited_constants()

                        <button type="button" class="show-source">Show source</button>
                    </h4>

                    



                  </div>

                    <pre class="method-source hidden"><span class="ruby-comment"># File lib/ruby_indexer/test/index_test.rb, line 876</span>
    <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">test_resolving_inherited_constants</span>
      <span class="ruby-identifier">index</span>(<span class="ruby-identifier">&lt;&lt;~RUBY</span>)
<span class="ruby-value">        module Foo
          CONST = 1
        end

        module Baz
          CONST = 2
        end

        module Qux
          include Foo
        end

        module Namespace
          CONST = 3

          include Baz

          class Bar
            include Qux
          end
        end

        CONST = 4
</span><span class="ruby-identifier">      RUBY</span>

      <span class="ruby-identifier">entry</span> = <span class="ruby-constant">T</span>.<span class="ruby-identifier">must</span>(<span class="ruby-ivar">@index</span>.<span class="ruby-identifier">resolve</span>(<span class="ruby-string">&quot;CONST&quot;</span>, [<span class="ruby-string">&quot;Namespace&quot;</span>, <span class="ruby-string">&quot;Bar&quot;</span>])&amp;.<span class="ruby-identifier">first</span>)
      <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value">14</span>, <span class="ruby-identifier">entry</span>.<span class="ruby-identifier">location</span>.<span class="ruby-identifier">start_line</span>)
    <span class="ruby-keyword">end</span></pre>
                </div>
                <div id="method-i-test_resolving_instance_variables_in_singleton_contexts" class="method-entry">
                  <div class="method-info">
                    <h4 class="method-name">
                      test_resolving_instance_variables_in_singleton_contexts()

                        <button type="button" class="show-source">Show source</button>
                    </h4>

                    



                  </div>

                    <pre class="method-source hidden"><span class="ruby-comment"># File lib/ruby_indexer/test/index_test.rb, line 1348</span>
    <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">test_resolving_instance_variables_in_singleton_contexts</span>
      <span class="ruby-ivar">@index</span>.<span class="ruby-identifier">index_single</span>(<span class="ruby-constant">IndexablePath</span>.<span class="ruby-identifier">new</span>(<span class="ruby-keyword">nil</span>, <span class="ruby-string">&quot;/fake/path/foo.rb&quot;</span>), <span class="ruby-identifier">&lt;&lt;~RUBY</span>)
<span class="ruby-value">        module Foo
          class Bar
            @a = 123

            class &lt;&lt; self
              def hello
                @b = 123
              end

              @c = 123
            end
          end
        end
</span><span class="ruby-identifier">      RUBY</span>

      <span class="ruby-identifier">entry</span> = <span class="ruby-ivar">@index</span>.<span class="ruby-identifier">resolve_instance_variable</span>(<span class="ruby-string">&quot;@a&quot;</span>, <span class="ruby-string">&quot;Foo::Bar::&lt;Class:Bar&gt;&quot;</span>)&amp;.<span class="ruby-identifier">first</span>
      <span class="ruby-identifier">refute_nil</span>(<span class="ruby-identifier">entry</span>)
      <span class="ruby-identifier">assert_equal</span>(<span class="ruby-string">&quot;@a&quot;</span>, <span class="ruby-constant">T</span>.<span class="ruby-identifier">must</span>(<span class="ruby-identifier">entry</span>).<span class="ruby-identifier">name</span>)

      <span class="ruby-identifier">entry</span> = <span class="ruby-ivar">@index</span>.<span class="ruby-identifier">resolve_instance_variable</span>(<span class="ruby-string">&quot;@b&quot;</span>, <span class="ruby-string">&quot;Foo::Bar::&lt;Class:Bar&gt;&quot;</span>)&amp;.<span class="ruby-identifier">first</span>
      <span class="ruby-identifier">refute_nil</span>(<span class="ruby-identifier">entry</span>)
      <span class="ruby-identifier">assert_equal</span>(<span class="ruby-string">&quot;@b&quot;</span>, <span class="ruby-constant">T</span>.<span class="ruby-identifier">must</span>(<span class="ruby-identifier">entry</span>).<span class="ruby-identifier">name</span>)

      <span class="ruby-identifier">entry</span> = <span class="ruby-ivar">@index</span>.<span class="ruby-identifier">resolve_instance_variable</span>(<span class="ruby-string">&quot;@c&quot;</span>, <span class="ruby-string">&quot;Foo::Bar::&lt;Class:Bar&gt;::&lt;Class:&lt;Class:Bar&gt;&gt;&quot;</span>)&amp;.<span class="ruby-identifier">first</span>
      <span class="ruby-identifier">refute_nil</span>(<span class="ruby-identifier">entry</span>)
      <span class="ruby-identifier">assert_equal</span>(<span class="ruby-string">&quot;@c&quot;</span>, <span class="ruby-constant">T</span>.<span class="ruby-identifier">must</span>(<span class="ruby-identifier">entry</span>).<span class="ruby-identifier">name</span>)
    <span class="ruby-keyword">end</span></pre>
                </div>
                <div id="method-i-test_resolving_method_aliases" class="method-entry">
                  <div class="method-info">
                    <h4 class="method-name">
                      test_resolving_method_aliases()

                        <button type="button" class="show-source">Show source</button>
                    </h4>

                    



                  </div>

                    <pre class="method-source hidden"><span class="ruby-comment"># File lib/ruby_indexer/test/index_test.rb, line 1424</span>
    <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">test_resolving_method_aliases</span>
      <span class="ruby-identifier">index</span>(<span class="ruby-identifier">&lt;&lt;~RUBY</span>)
<span class="ruby-value">        class Foo
          def bar(a, b, c)
          end

          alias double_alias bar
        end

        class Bar &lt; Foo
          def hello(b); end

          alias baz bar
          alias_method :qux, :hello
          alias double double_alias
        end
</span><span class="ruby-identifier">      RUBY</span>

      <span class="ruby-comment"># baz</span>
      <span class="ruby-identifier">methods</span> = <span class="ruby-ivar">@index</span>.<span class="ruby-identifier">resolve_method</span>(<span class="ruby-string">&quot;baz&quot;</span>, <span class="ruby-string">&quot;Bar&quot;</span>)
      <span class="ruby-identifier">refute_nil</span>(<span class="ruby-identifier">methods</span>)

      <span class="ruby-identifier">entry</span> = <span class="ruby-constant">T</span>.<span class="ruby-identifier">must</span>(<span class="ruby-identifier">methods</span>.<span class="ruby-identifier">first</span>)
      <span class="ruby-identifier">assert_kind_of</span>(<span class="ruby-constant">Entry</span><span class="ruby-operator">::</span><span class="ruby-constant">MethodAlias</span>, <span class="ruby-identifier">entry</span>)
      <span class="ruby-identifier">assert_equal</span>(<span class="ruby-string">&quot;bar&quot;</span>, <span class="ruby-identifier">entry</span>.<span class="ruby-identifier">target</span>.<span class="ruby-identifier">name</span>)
      <span class="ruby-identifier">assert_equal</span>(<span class="ruby-string">&quot;Foo&quot;</span>, <span class="ruby-constant">T</span>.<span class="ruby-identifier">must</span>(<span class="ruby-identifier">entry</span>.<span class="ruby-identifier">target</span>.<span class="ruby-identifier">owner</span>).<span class="ruby-identifier">name</span>)

      <span class="ruby-comment"># qux</span>
      <span class="ruby-identifier">methods</span> = <span class="ruby-ivar">@index</span>.<span class="ruby-identifier">resolve_method</span>(<span class="ruby-string">&quot;qux&quot;</span>, <span class="ruby-string">&quot;Bar&quot;</span>)
      <span class="ruby-identifier">refute_nil</span>(<span class="ruby-identifier">methods</span>)

      <span class="ruby-identifier">entry</span> = <span class="ruby-constant">T</span>.<span class="ruby-identifier">must</span>(<span class="ruby-identifier">methods</span>.<span class="ruby-identifier">first</span>)
      <span class="ruby-identifier">assert_kind_of</span>(<span class="ruby-constant">Entry</span><span class="ruby-operator">::</span><span class="ruby-constant">MethodAlias</span>, <span class="ruby-identifier">entry</span>)
      <span class="ruby-identifier">assert_equal</span>(<span class="ruby-string">&quot;hello&quot;</span>, <span class="ruby-identifier">entry</span>.<span class="ruby-identifier">target</span>.<span class="ruby-identifier">name</span>)
      <span class="ruby-identifier">assert_equal</span>(<span class="ruby-string">&quot;Bar&quot;</span>, <span class="ruby-constant">T</span>.<span class="ruby-identifier">must</span>(<span class="ruby-identifier">entry</span>.<span class="ruby-identifier">target</span>.<span class="ruby-identifier">owner</span>).<span class="ruby-identifier">name</span>)

      <span class="ruby-comment"># double</span>
      <span class="ruby-identifier">methods</span> = <span class="ruby-ivar">@index</span>.<span class="ruby-identifier">resolve_method</span>(<span class="ruby-string">&quot;double&quot;</span>, <span class="ruby-string">&quot;Bar&quot;</span>)
      <span class="ruby-identifier">refute_nil</span>(<span class="ruby-identifier">methods</span>)

      <span class="ruby-identifier">entry</span> = <span class="ruby-constant">T</span>.<span class="ruby-identifier">must</span>(<span class="ruby-identifier">methods</span>.<span class="ruby-identifier">first</span>)
      <span class="ruby-identifier">assert_kind_of</span>(<span class="ruby-constant">Entry</span><span class="ruby-operator">::</span><span class="ruby-constant">MethodAlias</span>, <span class="ruby-identifier">entry</span>)

      <span class="ruby-identifier">target</span> = <span class="ruby-identifier">entry</span>.<span class="ruby-identifier">target</span>
      <span class="ruby-identifier">assert_equal</span>(<span class="ruby-string">&quot;double_alias&quot;</span>, <span class="ruby-identifier">target</span>.<span class="ruby-identifier">name</span>)
      <span class="ruby-identifier">assert_kind_of</span>(<span class="ruby-constant">Entry</span><span class="ruby-operator">::</span><span class="ruby-constant">MethodAlias</span>, <span class="ruby-identifier">target</span>)
      <span class="ruby-identifier">assert_equal</span>(<span class="ruby-string">&quot;Foo&quot;</span>, <span class="ruby-constant">T</span>.<span class="ruby-identifier">must</span>(<span class="ruby-identifier">target</span>.<span class="ruby-identifier">owner</span>).<span class="ruby-identifier">name</span>)

      <span class="ruby-identifier">final_target</span> = <span class="ruby-identifier">target</span>.<span class="ruby-identifier">target</span>
      <span class="ruby-identifier">assert_equal</span>(<span class="ruby-string">&quot;bar&quot;</span>, <span class="ruby-identifier">final_target</span>.<span class="ruby-identifier">name</span>)
      <span class="ruby-identifier">assert_kind_of</span>(<span class="ruby-constant">Entry</span><span class="ruby-operator">::</span><span class="ruby-constant">Method</span>, <span class="ruby-identifier">final_target</span>)
      <span class="ruby-identifier">assert_equal</span>(<span class="ruby-string">&quot;Foo&quot;</span>, <span class="ruby-constant">T</span>.<span class="ruby-identifier">must</span>(<span class="ruby-identifier">final_target</span>.<span class="ruby-identifier">owner</span>).<span class="ruby-identifier">name</span>)
    <span class="ruby-keyword">end</span></pre>
                </div>
                <div id="method-i-test_resolving_method_inside_singleton_context" class="method-entry">
                  <div class="method-info">
                    <h4 class="method-name">
                      test_resolving_method_inside_singleton_context()

                        <button type="button" class="show-source">Show source</button>
                    </h4>

                    



                  </div>

                    <pre class="method-source hidden"><span class="ruby-comment"># File lib/ruby_indexer/test/index_test.rb, line 1302</span>
    <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">test_resolving_method_inside_singleton_context</span>
      <span class="ruby-ivar">@index</span>.<span class="ruby-identifier">index_single</span>(<span class="ruby-constant">IndexablePath</span>.<span class="ruby-identifier">new</span>(<span class="ruby-keyword">nil</span>, <span class="ruby-string">&quot;/fake/path/foo.rb&quot;</span>), <span class="ruby-identifier">&lt;&lt;~RUBY</span>)
<span class="ruby-value">        module Foo
          class Bar
            class &lt;&lt; self
              class Baz
                class &lt;&lt; self
                  def found_me!; end
                end
              end
            end
          end
        end
</span><span class="ruby-identifier">      RUBY</span>

      <span class="ruby-identifier">entry</span> = <span class="ruby-ivar">@index</span>.<span class="ruby-identifier">resolve_method</span>(<span class="ruby-string">&quot;found_me!&quot;</span>, <span class="ruby-string">&quot;Foo::Bar::&lt;Class:Bar&gt;::Baz::&lt;Class:Baz&gt;&quot;</span>)&amp;.<span class="ruby-identifier">first</span>
      <span class="ruby-identifier">refute_nil</span>(<span class="ruby-identifier">entry</span>)

      <span class="ruby-identifier">assert_equal</span>(<span class="ruby-string">&quot;found_me!&quot;</span>, <span class="ruby-constant">T</span>.<span class="ruby-identifier">must</span>(<span class="ruby-identifier">entry</span>).<span class="ruby-identifier">name</span>)
    <span class="ruby-keyword">end</span></pre>
                </div>
                <div id="method-i-test_resolving_prepended_constants" class="method-entry">
                  <div class="method-info">
                    <h4 class="method-name">
                      test_resolving_prepended_constants()

                        <button type="button" class="show-source">Show source</button>
                    </h4>

                    



                  </div>

                    <pre class="method-source hidden"><span class="ruby-comment"># File lib/ruby_indexer/test/index_test.rb, line 952</span>
    <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">test_resolving_prepended_constants</span>
      <span class="ruby-identifier">index</span>(<span class="ruby-identifier">&lt;&lt;~RUBY</span>)
<span class="ruby-value">        module Included
          CONST = 123
        end

        module Prepended
          CONST = 321
        end

        class Foo
          include Included
          prepend Prepended
        end

        class Bar
          CONST = 456
          include Included
          prepend Prepended
        end
</span><span class="ruby-identifier">      RUBY</span>

      <span class="ruby-identifier">entry</span> = <span class="ruby-constant">T</span>.<span class="ruby-identifier">must</span>(<span class="ruby-ivar">@index</span>.<span class="ruby-identifier">resolve</span>(<span class="ruby-string">&quot;CONST&quot;</span>, [<span class="ruby-string">&quot;Foo&quot;</span>])&amp;.<span class="ruby-identifier">first</span>)
      <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value">6</span>, <span class="ruby-identifier">entry</span>.<span class="ruby-identifier">location</span>.<span class="ruby-identifier">start_line</span>)

      <span class="ruby-identifier">entry</span> = <span class="ruby-constant">T</span>.<span class="ruby-identifier">must</span>(<span class="ruby-ivar">@index</span>.<span class="ruby-identifier">resolve</span>(<span class="ruby-string">&quot;Foo::CONST&quot;</span>, [])&amp;.<span class="ruby-identifier">first</span>)
      <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value">6</span>, <span class="ruby-identifier">entry</span>.<span class="ruby-identifier">location</span>.<span class="ruby-identifier">start_line</span>)

      <span class="ruby-identifier">entry</span> = <span class="ruby-constant">T</span>.<span class="ruby-identifier">must</span>(<span class="ruby-ivar">@index</span>.<span class="ruby-identifier">resolve</span>(<span class="ruby-string">&quot;Bar::CONST&quot;</span>, [])&amp;.<span class="ruby-identifier">first</span>)
      <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value">15</span>, <span class="ruby-identifier">entry</span>.<span class="ruby-identifier">location</span>.<span class="ruby-identifier">start_line</span>)
    <span class="ruby-keyword">end</span></pre>
                </div>
                <div id="method-i-test_resolving_qualified_references" class="method-entry">
                  <div class="method-info">
                    <h4 class="method-name">
                      test_resolving_qualified_references()

                        <button type="button" class="show-source">Show source</button>
                    </h4>

                    



                  </div>

                    <pre class="method-source hidden"><span class="ruby-comment"># File lib/ruby_indexer/test/index_test.rb, line 1120</span>
    <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">test_resolving_qualified_references</span>
      <span class="ruby-identifier">index</span>(<span class="ruby-identifier">&lt;&lt;~RUBY</span>)
<span class="ruby-value">        module Namespace
          class Entry
            CONST = 1
          end
        end

        module Namespace
          class Index
          end
        end
</span><span class="ruby-identifier">      RUBY</span>

      <span class="ruby-identifier">foo_entry</span> = <span class="ruby-constant">T</span>.<span class="ruby-identifier">must</span>(<span class="ruby-ivar">@index</span>.<span class="ruby-identifier">resolve</span>(<span class="ruby-string">&quot;Entry::CONST&quot;</span>, [<span class="ruby-string">&quot;Namespace&quot;</span>, <span class="ruby-string">&quot;Index&quot;</span>])&amp;.<span class="ruby-identifier">first</span>)
      <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value">3</span>, <span class="ruby-identifier">foo_entry</span>.<span class="ruby-identifier">location</span>.<span class="ruby-identifier">start_line</span>)
    <span class="ruby-keyword">end</span></pre>
                </div>
                <div id="method-i-test_resolving_references_with_only_top_level_declaration" class="method-entry">
                  <div class="method-info">
                    <h4 class="method-name">
                      test_resolving_references_with_only_top_level_declaration()

                        <button type="button" class="show-source">Show source</button>
                    </h4>

                    



                  </div>

                    <pre class="method-source hidden"><span class="ruby-comment"># File lib/ruby_indexer/test/index_test.rb, line 1157</span>
    <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">test_resolving_references_with_only_top_level_declaration</span>
      <span class="ruby-identifier">index</span>(<span class="ruby-identifier">&lt;&lt;~RUBY</span>)
<span class="ruby-value">        CONST = 1

        module Foo; end

        module Namespace
          class Index
            include Foo
          end
        end
</span><span class="ruby-identifier">      RUBY</span>

      <span class="ruby-identifier">foo_entry</span> = <span class="ruby-constant">T</span>.<span class="ruby-identifier">must</span>(<span class="ruby-ivar">@index</span>.<span class="ruby-identifier">resolve</span>(<span class="ruby-string">&quot;CONST&quot;</span>, [<span class="ruby-string">&quot;Namespace&quot;</span>, <span class="ruby-string">&quot;Index&quot;</span>])&amp;.<span class="ruby-identifier">first</span>)
      <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value">1</span>, <span class="ruby-identifier">foo_entry</span>.<span class="ruby-identifier">location</span>.<span class="ruby-identifier">start_line</span>)
    <span class="ruby-keyword">end</span></pre>
                </div>
                <div id="method-i-test_resolving_references_with_redundant_namespaces" class="method-entry">
                  <div class="method-info">
                    <h4 class="method-name">
                      test_resolving_references_with_redundant_namespaces()

                        <button type="button" class="show-source">Show source</button>
                    </h4>

                    



                  </div>

                    <pre class="method-source hidden"><span class="ruby-comment"># File lib/ruby_indexer/test/index_test.rb, line 1095</span>
    <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">test_resolving_references_with_redundant_namespaces</span>
      <span class="ruby-identifier">index</span>(<span class="ruby-identifier">&lt;&lt;~RUBY</span>)
<span class="ruby-value">        module Bar
          CONST = 1
        end

        module A
          CONST = 2

          module B
            CONST = 3

            class Foo
              include Bar
            end

            A::B::Foo::CONST
          end
        end
</span><span class="ruby-identifier">      RUBY</span>

      <span class="ruby-identifier">foo_entry</span> = <span class="ruby-constant">T</span>.<span class="ruby-identifier">must</span>(<span class="ruby-ivar">@index</span>.<span class="ruby-identifier">resolve</span>(<span class="ruby-string">&quot;A::B::Foo::CONST&quot;</span>, [<span class="ruby-string">&quot;A&quot;</span>, <span class="ruby-string">&quot;B&quot;</span>])&amp;.<span class="ruby-identifier">first</span>)
      <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value">2</span>, <span class="ruby-identifier">foo_entry</span>.<span class="ruby-identifier">location</span>.<span class="ruby-identifier">start_line</span>)
    <span class="ruby-keyword">end</span></pre>
                </div>
                <div id="method-i-test_resolving_same_constant_from_different_scopes" class="method-entry">
                  <div class="method-info">
                    <h4 class="method-name">
                      test_resolving_same_constant_from_different_scopes()

                        <button type="button" class="show-source">Show source</button>
                    </h4>

                    



                  </div>

                    <pre class="method-source hidden"><span class="ruby-comment"># File lib/ruby_indexer/test/index_test.rb, line 931</span>
    <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">test_resolving_same_constant_from_different_scopes</span>
      <span class="ruby-identifier">index</span>(<span class="ruby-identifier">&lt;&lt;~RUBY</span>)
<span class="ruby-value">        module Namespace
          CONST = 123

          class Parent
            CONST = 321
          end

          class Child &lt; Parent
          end
        end
</span><span class="ruby-identifier">      RUBY</span>

      <span class="ruby-identifier">entry</span> = <span class="ruby-constant">T</span>.<span class="ruby-identifier">must</span>(<span class="ruby-ivar">@index</span>.<span class="ruby-identifier">resolve</span>(<span class="ruby-string">&quot;CONST&quot;</span>, [<span class="ruby-string">&quot;Namespace&quot;</span>, <span class="ruby-string">&quot;Child&quot;</span>])&amp;.<span class="ruby-identifier">first</span>)
      <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value">2</span>, <span class="ruby-identifier">entry</span>.<span class="ruby-identifier">location</span>.<span class="ruby-identifier">start_line</span>)

      <span class="ruby-identifier">entry</span> = <span class="ruby-constant">T</span>.<span class="ruby-identifier">must</span>(<span class="ruby-ivar">@index</span>.<span class="ruby-identifier">resolve</span>(<span class="ruby-string">&quot;Namespace::Child::CONST&quot;</span>, [])&amp;.<span class="ruby-identifier">first</span>)
      <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value">5</span>, <span class="ruby-identifier">entry</span>.<span class="ruby-identifier">location</span>.<span class="ruby-identifier">start_line</span>)
    <span class="ruby-keyword">end</span></pre>
                </div>
                <div id="method-i-test_resolving_top_level_aliases" class="method-entry">
                  <div class="method-info">
                    <h4 class="method-name">
                      test_resolving_top_level_aliases()

                        <button type="button" class="show-source">Show source</button>
                    </h4>

                    



                  </div>

                    <pre class="method-source hidden"><span class="ruby-comment"># File lib/ruby_indexer/test/index_test.rb, line 1069</span>
    <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">test_resolving_top_level_aliases</span>
      <span class="ruby-identifier">index</span>(<span class="ruby-identifier">&lt;&lt;~RUBY</span>)
<span class="ruby-value">        class Foo
          CONST = 123
        end

        FOO = Foo
        FOO::CONST
</span><span class="ruby-identifier">      RUBY</span>

      <span class="ruby-identifier">entry</span> = <span class="ruby-constant">T</span>.<span class="ruby-identifier">must</span>(<span class="ruby-ivar">@index</span>.<span class="ruby-identifier">resolve</span>(<span class="ruby-string">&quot;FOO::CONST&quot;</span>, [])&amp;.<span class="ruby-identifier">first</span>)
      <span class="ruby-identifier">assert_kind_of</span>(<span class="ruby-constant">Entry</span><span class="ruby-operator">::</span><span class="ruby-constant">Constant</span>, <span class="ruby-identifier">entry</span>)
      <span class="ruby-identifier">assert_equal</span>(<span class="ruby-string">&quot;Foo::CONST&quot;</span>, <span class="ruby-identifier">entry</span>.<span class="ruby-identifier">name</span>)
    <span class="ruby-keyword">end</span></pre>
                </div>
                <div id="method-i-test_resolving_top_level_compact_reference" class="method-entry">
                  <div class="method-info">
                    <h4 class="method-name">
                      test_resolving_top_level_compact_reference()

                        <button type="button" class="show-source">Show source</button>
                    </h4>

                    



                  </div>

                    <pre class="method-source hidden"><span class="ruby-comment"># File lib/ruby_indexer/test/index_test.rb, line 1084</span>
    <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">test_resolving_top_level_compact_reference</span>
      <span class="ruby-identifier">index</span>(<span class="ruby-identifier">&lt;&lt;~RUBY</span>)
<span class="ruby-value">        class Foo::Bar
        end
</span><span class="ruby-identifier">      RUBY</span>

      <span class="ruby-identifier">foo_entry</span> = <span class="ruby-constant">T</span>.<span class="ruby-identifier">must</span>(<span class="ruby-ivar">@index</span>.<span class="ruby-identifier">resolve</span>(<span class="ruby-string">&quot;Foo::Bar&quot;</span>, [])&amp;.<span class="ruby-identifier">first</span>)
      <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value">1</span>, <span class="ruby-identifier">foo_entry</span>.<span class="ruby-identifier">location</span>.<span class="ruby-identifier">start_line</span>)
      <span class="ruby-identifier">assert_instance_of</span>(<span class="ruby-constant">Entry</span><span class="ruby-operator">::</span><span class="ruby-constant">Class</span>, <span class="ruby-identifier">foo_entry</span>)
    <span class="ruby-keyword">end</span></pre>
                </div>
                <div id="method-i-test_resolving_unindexed_constant_with_no_nesting" class="method-entry">
                  <div class="method-info">
                    <h4 class="method-name">
                      test_resolving_unindexed_constant_with_no_nesting()

                        <button type="button" class="show-source">Show source</button>
                    </h4>

                    



                  </div>

                    <pre class="method-source hidden"><span class="ruby-comment"># File lib/ruby_indexer/test/index_test.rb, line 1216</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">test_resolving_unindexed_constant_with_no_nesting</span>
  <span class="ruby-identifier">assert_nil</span>(<span class="ruby-ivar">@index</span>.<span class="ruby-identifier">resolve</span>(<span class="ruby-string">&quot;RSpec&quot;</span>, []))
<span class="ruby-keyword">end</span></pre>
                </div>
                <div id="method-i-test_resolving_unqualified_references" class="method-entry">
                  <div class="method-info">
                    <h4 class="method-name">
                      test_resolving_unqualified_references()

                        <button type="button" class="show-source">Show source</button>
                    </h4>

                    



                  </div>

                    <pre class="method-source hidden"><span class="ruby-comment"># File lib/ruby_indexer/test/index_test.rb, line 1138</span>
    <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">test_resolving_unqualified_references</span>
      <span class="ruby-identifier">index</span>(<span class="ruby-identifier">&lt;&lt;~RUBY</span>)
<span class="ruby-value">        module Foo
          CONST = 1
        end

        module Namespace
          CONST = 2

          class Index
            include Foo
          end
        end
</span><span class="ruby-identifier">      RUBY</span>

      <span class="ruby-identifier">foo_entry</span> = <span class="ruby-constant">T</span>.<span class="ruby-identifier">must</span>(<span class="ruby-ivar">@index</span>.<span class="ruby-identifier">resolve</span>(<span class="ruby-string">&quot;CONST&quot;</span>, [<span class="ruby-string">&quot;Namespace&quot;</span>, <span class="ruby-string">&quot;Index&quot;</span>])&amp;.<span class="ruby-identifier">first</span>)
      <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value">6</span>, <span class="ruby-identifier">foo_entry</span>.<span class="ruby-identifier">location</span>.<span class="ruby-identifier">start_line</span>)
    <span class="ruby-keyword">end</span></pre>
                </div>
                <div id="method-i-test_searching_for_entries_based_on_prefix" class="method-entry">
                  <div class="method-info">
                    <h4 class="method-name">
                      test_searching_for_entries_based_on_prefix()

                        <button type="button" class="show-source">Show source</button>
                    </h4>

                    



                  </div>

                    <pre class="method-source hidden"><span class="ruby-comment"># File lib/ruby_indexer/test/index_test.rb, line 142</span>
    <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">test_searching_for_entries_based_on_prefix</span>
      <span class="ruby-ivar">@index</span>.<span class="ruby-identifier">index_single</span>(<span class="ruby-constant">IndexablePath</span>.<span class="ruby-identifier">new</span>(<span class="ruby-string">&quot;/fake&quot;</span>, <span class="ruby-string">&quot;/fake/path/foo.rb&quot;</span>), <span class="ruby-identifier">&lt;&lt;~RUBY</span>)
<span class="ruby-value">        class Foo::Bizw
        end
</span><span class="ruby-identifier">      RUBY</span>
      <span class="ruby-ivar">@index</span>.<span class="ruby-identifier">index_single</span>(<span class="ruby-constant">IndexablePath</span>.<span class="ruby-identifier">new</span>(<span class="ruby-string">&quot;/fake&quot;</span>, <span class="ruby-string">&quot;/fake/path/other_foo.rb&quot;</span>), <span class="ruby-identifier">&lt;&lt;~RUBY</span>)
<span class="ruby-value">        class Foo::Bizw
        end

        class Foo::Bizt
        end
</span><span class="ruby-identifier">      RUBY</span>

      <span class="ruby-identifier">results</span> = <span class="ruby-ivar">@index</span>.<span class="ruby-identifier">prefix_search</span>(<span class="ruby-string">&quot;Foo&quot;</span>, []).<span class="ruby-identifier">map</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">entries</span><span class="ruby-operator">|</span> <span class="ruby-identifier">entries</span>.<span class="ruby-identifier">map</span>(<span class="ruby-operator">&amp;</span><span class="ruby-value">:name</span>) }
      <span class="ruby-identifier">assert_equal</span>([[<span class="ruby-string">&quot;Foo::Bizw&quot;</span>, <span class="ruby-string">&quot;Foo::Bizw&quot;</span>], [<span class="ruby-string">&quot;Foo::Bizt&quot;</span>]], <span class="ruby-identifier">results</span>)

      <span class="ruby-identifier">results</span> = <span class="ruby-ivar">@index</span>.<span class="ruby-identifier">prefix_search</span>(<span class="ruby-string">&quot;Biz&quot;</span>, [<span class="ruby-string">&quot;Foo&quot;</span>]).<span class="ruby-identifier">map</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">entries</span><span class="ruby-operator">|</span> <span class="ruby-identifier">entries</span>.<span class="ruby-identifier">map</span>(<span class="ruby-operator">&amp;</span><span class="ruby-value">:name</span>) }
      <span class="ruby-identifier">assert_equal</span>([[<span class="ruby-string">&quot;Foo::Bizw&quot;</span>, <span class="ruby-string">&quot;Foo::Bizw&quot;</span>], [<span class="ruby-string">&quot;Foo::Bizt&quot;</span>]], <span class="ruby-identifier">results</span>)
    <span class="ruby-keyword">end</span></pre>
                </div>
                <div id="method-i-test_searching_for_require_paths" class="method-entry">
                  <div class="method-info">
                    <h4 class="method-name">
                      test_searching_for_require_paths()

                        <button type="button" class="show-source">Show source</button>
                    </h4>

                    



                  </div>

                    <pre class="method-source hidden"><span class="ruby-comment"># File lib/ruby_indexer/test/index_test.rb, line 129</span>
    <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">test_searching_for_require_paths</span>
      <span class="ruby-ivar">@index</span>.<span class="ruby-identifier">index_single</span>(<span class="ruby-constant">IndexablePath</span>.<span class="ruby-identifier">new</span>(<span class="ruby-string">&quot;/fake&quot;</span>, <span class="ruby-string">&quot;/fake/path/foo.rb&quot;</span>), <span class="ruby-identifier">&lt;&lt;~RUBY</span>)
<span class="ruby-value">        class Foo
        end
</span><span class="ruby-identifier">      RUBY</span>
      <span class="ruby-ivar">@index</span>.<span class="ruby-identifier">index_single</span>(<span class="ruby-constant">IndexablePath</span>.<span class="ruby-identifier">new</span>(<span class="ruby-string">&quot;/fake&quot;</span>, <span class="ruby-string">&quot;/fake/path/other_foo.rb&quot;</span>), <span class="ruby-identifier">&lt;&lt;~RUBY</span>)
<span class="ruby-value">        class Foo
        end
</span><span class="ruby-identifier">      RUBY</span>

      <span class="ruby-identifier">assert_equal</span>([<span class="ruby-string">&quot;path/foo&quot;</span>, <span class="ruby-string">&quot;path/other_foo&quot;</span>], <span class="ruby-ivar">@index</span>.<span class="ruby-identifier">search_require_paths</span>(<span class="ruby-string">&quot;path&quot;</span>).<span class="ruby-identifier">map</span>(<span class="ruby-operator">&amp;</span><span class="ruby-value">:require_path</span>))
    <span class="ruby-keyword">end</span></pre>
                </div>
                <div id="method-i-test_singletons_are_excluded_from_fuzzy_search" class="method-entry">
                  <div class="method-info">
                    <h4 class="method-name">
                      test_singletons_are_excluded_from_fuzzy_search()

                        <button type="button" class="show-source">Show source</button>
                    </h4>

                    



                  </div>

                    <pre class="method-source hidden"><span class="ruby-comment"># File lib/ruby_indexer/test/index_test.rb, line 1411</span>
    <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">test_singletons_are_excluded_from_fuzzy_search</span>
      <span class="ruby-identifier">index</span>(<span class="ruby-identifier">&lt;&lt;~RUBY</span>)
<span class="ruby-value">        class Zwq
          class &lt;&lt; self
          end
        end
</span><span class="ruby-identifier">      RUBY</span>

      <span class="ruby-identifier">results</span> = <span class="ruby-ivar">@index</span>.<span class="ruby-identifier">fuzzy_search</span>(<span class="ruby-string">&quot;Zwq&quot;</span>)
      <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value">1</span>, <span class="ruby-identifier">results</span>.<span class="ruby-identifier">length</span>)
      <span class="ruby-identifier">assert_equal</span>(<span class="ruby-string">&quot;Zwq&quot;</span>, <span class="ruby-identifier">results</span>.<span class="ruby-identifier">first</span>.<span class="ruby-identifier">name</span>)
    <span class="ruby-keyword">end</span></pre>
                </div>
                <div id="method-i-test_singletons_are_excluded_from_prefix_search" class="method-entry">
                  <div class="method-info">
                    <h4 class="method-name">
                      test_singletons_are_excluded_from_prefix_search()

                        <button type="button" class="show-source">Show source</button>
                    </h4>

                    



                  </div>

                    <pre class="method-source hidden"><span class="ruby-comment"># File lib/ruby_indexer/test/index_test.rb, line 1400</span>
    <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">test_singletons_are_excluded_from_prefix_search</span>
      <span class="ruby-identifier">index</span>(<span class="ruby-identifier">&lt;&lt;~RUBY</span>)
<span class="ruby-value">        class Zwq
          class &lt;&lt; self
          end
        end
</span><span class="ruby-identifier">      RUBY</span>

      <span class="ruby-identifier">assert_empty</span>(<span class="ruby-ivar">@index</span>.<span class="ruby-identifier">prefix_search</span>(<span class="ruby-string">&quot;Zwq::&lt;C&quot;</span>))
    <span class="ruby-keyword">end</span></pre>
                </div>
                <div id="method-i-test_top_level_basic_object_superclass_resolution" class="method-entry">
                  <div class="method-info">
                    <h4 class="method-name">
                      test_top_level_basic_object_superclass_resolution()

                        <button type="button" class="show-source">Show source</button>
                    </h4>

                    



                  </div>

                    <pre class="method-source hidden"><span class="ruby-comment"># File lib/ruby_indexer/test/index_test.rb, line 1290</span>
    <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">test_top_level_basic_object_superclass_resolution</span>
      <span class="ruby-identifier">index</span>(<span class="ruby-identifier">&lt;&lt;~RUBY</span>)
<span class="ruby-value">        module Foo
          class BasicObject; end

          class Bar &lt; ::BasicObject; end
        end
</span><span class="ruby-identifier">      RUBY</span>

      <span class="ruby-identifier">assert_equal</span>([<span class="ruby-string">&quot;Foo::Bar&quot;</span>, <span class="ruby-string">&quot;BasicObject&quot;</span>], <span class="ruby-ivar">@index</span>.<span class="ruby-identifier">linearized_ancestors_of</span>(<span class="ruby-string">&quot;Foo::Bar&quot;</span>))
    <span class="ruby-keyword">end</span></pre>
                </div>
                <div id="method-i-test_top_level_object_superclass_resolution" class="method-entry">
                  <div class="method-info">
                    <h4 class="method-name">
                      test_top_level_object_superclass_resolution()

                        <button type="button" class="show-source">Show source</button>
                    </h4>

                    



                  </div>

                    <pre class="method-source hidden"><span class="ruby-comment"># File lib/ruby_indexer/test/index_test.rb, line 1278</span>
    <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">test_top_level_object_superclass_resolution</span>
      <span class="ruby-identifier">index</span>(<span class="ruby-identifier">&lt;&lt;~RUBY</span>)
<span class="ruby-value">        module Foo
          class Object; end

          class Bar &lt; ::Object; end
        end
</span><span class="ruby-identifier">      RUBY</span>

      <span class="ruby-identifier">assert_equal</span>([<span class="ruby-string">&quot;Foo::Bar&quot;</span>, <span class="ruby-string">&quot;Object&quot;</span>, <span class="ruby-string">&quot;Kernel&quot;</span>, <span class="ruby-string">&quot;BasicObject&quot;</span>], <span class="ruby-ivar">@index</span>.<span class="ruby-identifier">linearized_ancestors_of</span>(<span class="ruby-string">&quot;Foo::Bar&quot;</span>))
    <span class="ruby-keyword">end</span></pre>
                </div>
                <div id="method-i-test_unresolable_method_aliases" class="method-entry">
                  <div class="method-info">
                    <h4 class="method-name">
                      test_unresolable_method_aliases()

                        <button type="button" class="show-source">Show source</button>
                    </h4>

                    



                  </div>

                    <pre class="method-source hidden"><span class="ruby-comment"># File lib/ruby_indexer/test/index_test.rb, line 1493</span>
    <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">test_unresolable_method_aliases</span>
      <span class="ruby-identifier">index</span>(<span class="ruby-identifier">&lt;&lt;~RUBY</span>)
<span class="ruby-value">        class Foo
          alias bar baz
        end
</span><span class="ruby-identifier">      RUBY</span>

      <span class="ruby-comment"># `baz` does not exist, so resolving `bar` is not possible</span>
      <span class="ruby-identifier">methods</span> = <span class="ruby-ivar">@index</span>.<span class="ruby-identifier">resolve_method</span>(<span class="ruby-string">&quot;bar&quot;</span>, <span class="ruby-string">&quot;Foo&quot;</span>)
      <span class="ruby-identifier">assert_nil</span>(<span class="ruby-identifier">methods</span>)

      <span class="ruby-identifier">entry</span> = <span class="ruby-constant">T</span>.<span class="ruby-identifier">must</span>(<span class="ruby-ivar">@index</span>[<span class="ruby-string">&quot;bar&quot;</span>].<span class="ruby-identifier">first</span>)
      <span class="ruby-identifier">assert_kind_of</span>(<span class="ruby-constant">Entry</span><span class="ruby-operator">::</span><span class="ruby-constant">UnresolvedMethodAlias</span>, <span class="ruby-identifier">entry</span>)
    <span class="ruby-keyword">end</span></pre>
                </div>
                <div id="method-i-test_visitor_does_not_visit_unnecessary_nodes" class="method-entry">
                  <div class="method-info">
                    <h4 class="method-name">
                      test_visitor_does_not_visit_unnecessary_nodes()

                        <button type="button" class="show-source">Show source</button>
                    </h4>

                    



                  </div>

                    <pre class="method-source hidden"><span class="ruby-comment"># File lib/ruby_indexer/test/index_test.rb, line 200</span>
    <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">test_visitor_does_not_visit_unnecessary_nodes</span>
      <span class="ruby-identifier">concats</span> = (<span class="ruby-value">0</span><span class="ruby-operator">...</span><span class="ruby-value">10_000</span>).<span class="ruby-identifier">map</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">i</span><span class="ruby-operator">|</span>
        <span class="ruby-identifier">&lt;&lt;~STRING</span>
<span class="ruby-value">          &quot;string#{i}&quot; \\
</span><span class="ruby-identifier">        STRING</span>
      <span class="ruby-keyword">end</span>.<span class="ruby-identifier">join</span>

      <span class="ruby-identifier">index</span>(<span class="ruby-identifier">&lt;&lt;~RUBY</span>)
<span class="ruby-value">        module Foo
          local_var = #{concats}
            &quot;final&quot;
          @class_instance_var = #{concats}
            &quot;final&quot;
          @@class_var = #{concats}
            &quot;final&quot;
          $global_var = #{concats}
            &quot;final&quot;
          CONST = #{concats}
            &quot;final&quot;
        end
</span><span class="ruby-identifier">      RUBY</span>
    <span class="ruby-keyword">end</span></pre>
                </div>
            </section>
          
            
            
        
      </section>
  </article>

   <div class="right-section">
  <nav class="right-nav">
    <span id="right-side-bar-title" class="right-side-bar-title">On this page</span>
      <ul>
          <li id="right-side-bar-class-rubyindexer-indextest" class="right-side-bar-class">
            <a href="#" >class RubyIndexer::IndexTest</a>

              <ul>




                    <li>
                      <details open>
                        <summary id="right-side-bar-section-public-instance-methods" class="right-side-bar-section">Public Instance Methods</summary>
                        <ul>
                            <li id="right-nav-test_accessing_with_colon_colon_prefix" class="right-side-bar-element">
                              <a href="#method-i-test_accessing_with_colon_colon_prefix">test_accessing_with_colon_colon_prefix</a>
                            </li>
                            <li id="right-nav-test_ancestors_linearization_complex_include_duplication" class="right-side-bar-element">
                              <a href="#method-i-test_ancestors_linearization_complex_include_duplication">test_ancestors_linearization_complex_include_duplication</a>
                            </li>
                            <li id="right-nav-test_ancestors_linearization_complex_prepend_duplication" class="right-side-bar-element">
                              <a href="#method-i-test_ancestors_linearization_complex_prepend_duplication">test_ancestors_linearization_complex_prepend_duplication</a>
                            </li>
                            <li id="right-nav-test_basic_object_superclass_resolution" class="right-side-bar-element">
                              <a href="#method-i-test_basic_object_superclass_resolution">test_basic_object_superclass_resolution</a>
                            </li>
                            <li id="right-nav-test_completion_does_not_duplicate_methods_overridden_by_aliases" class="right-side-bar-element">
                              <a href="#method-i-test_completion_does_not_duplicate_methods_overridden_by_aliases">test_completion_does_not_duplicate_methods_overridden_by_aliases</a>
                            </li>
                            <li id="right-nav-test_completion_does_not_duplicate_overridden_methods" class="right-side-bar-element">
                              <a href="#method-i-test_completion_does_not_duplicate_overridden_methods">test_completion_does_not_duplicate_overridden_methods</a>
                            </li>
                            <li id="right-nav-test_completion_does_not_include_unresolved_aliases" class="right-side-bar-element">
                              <a href="#method-i-test_completion_does_not_include_unresolved_aliases">test_completion_does_not_include_unresolved_aliases</a>
                            </li>
                            <li id="right-nav-test_decorated_parameters" class="right-side-bar-element">
                              <a href="#method-i-test_decorated_parameters">test_decorated_parameters</a>
                            </li>
                            <li id="right-nav-test_decorated_parameters_when_method_has_no_parameters" class="right-side-bar-element">
                              <a href="#method-i-test_decorated_parameters_when_method_has_no_parameters">test_decorated_parameters_when_method_has_no_parameters</a>
                            </li>
                            <li id="right-nav-test_deleting_all_entries_for_a_class" class="right-side-bar-element">
                              <a href="#method-i-test_deleting_all_entries_for_a_class">test_deleting_all_entries_for_a_class</a>
                            </li>
                            <li id="right-nav-test_deleting_one_entry_for_a_class" class="right-side-bar-element">
                              <a href="#method-i-test_deleting_one_entry_for_a_class">test_deleting_one_entry_for_a_class</a>
                            </li>
                            <li id="right-nav-test_duplicate_prepend_include" class="right-side-bar-element">
                              <a href="#method-i-test_duplicate_prepend_include">test_duplicate_prepend_include</a>
                            </li>
                            <li id="right-nav-test_fuzzy_search" class="right-side-bar-element">
                              <a href="#method-i-test_fuzzy_search">test_fuzzy_search</a>
                            </li>
                            <li id="right-nav-test_handle_change_clears_ancestor_cache_if_parent_class_changed" class="right-side-bar-element">
                              <a href="#method-i-test_handle_change_clears_ancestor_cache_if_parent_class_changed">test_handle_change_clears_ancestor_cache_if_parent_class_changed</a>
                            </li>
                            <li id="right-nav-test_handle_change_clears_ancestor_cache_if_tree_changed" class="right-side-bar-element">
                              <a href="#method-i-test_handle_change_clears_ancestor_cache_if_tree_changed">test_handle_change_clears_ancestor_cache_if_tree_changed</a>
                            </li>
                            <li id="right-nav-test_handle_change_does_not_clear_ancestor_cache_if_tree_not_changed" class="right-side-bar-element">
                              <a href="#method-i-test_handle_change_does_not_clear_ancestor_cache_if_tree_not_changed">test_handle_change_does_not_clear_ancestor_cache_if_tree_not_changed</a>
                            </li>
                            <li id="right-nav-test_index_resolve" class="right-side-bar-element">
                              <a href="#method-i-test_index_resolve">test_index_resolve</a>
                            </li>
                            <li id="right-nav-test_index_single_does_not_fail_for_non_existing_file" class="right-side-bar-element">
                              <a href="#method-i-test_index_single_does_not_fail_for_non_existing_file">test_index_single_does_not_fail_for_non_existing_file</a>
                            </li>
                            <li id="right-nav-test_index_single_ignores_directories" class="right-side-bar-element">
                              <a href="#method-i-test_index_single_ignores_directories">test_index_single_ignores_directories</a>
                            </li>
                            <li id="right-nav-test_indexing_prism_fixtures_succeeds" class="right-side-bar-element">
                              <a href="#method-i-test_indexing_prism_fixtures_succeeds">test_indexing_prism_fixtures_succeeds</a>
                            </li>
                            <li id="right-nav-test_instance_variable_completion_in_singleton_contexts" class="right-side-bar-element">
                              <a href="#method-i-test_instance_variable_completion_in_singleton_contexts">test_instance_variable_completion_in_singleton_contexts</a>
                            </li>
                            <li id="right-nav-test_instance_variables_completions_from_different_owners_with_conflicting_names" class="right-side-bar-element">
                              <a href="#method-i-test_instance_variables_completions_from_different_owners_with_conflicting_names">test_instance_variables_completions_from_different_owners_with_conflicting_names</a>
                            </li>
                            <li id="right-nav-test_linearized_ancestors" class="right-side-bar-element">
                              <a href="#method-i-test_linearized_ancestors">test_linearized_ancestors</a>
                            </li>
                            <li id="right-nav-test_linearized_ancestors_basic_ordering" class="right-side-bar-element">
                              <a href="#method-i-test_linearized_ancestors_basic_ordering">test_linearized_ancestors_basic_ordering</a>
                            </li>
                            <li id="right-nav-test_linearized_ancestors_duplicates" class="right-side-bar-element">
                              <a href="#method-i-test_linearized_ancestors_duplicates">test_linearized_ancestors_duplicates</a>
                            </li>
                            <li id="right-nav-test_linearizing_a_module_singleton_class" class="right-side-bar-element">
                              <a href="#method-i-test_linearizing_a_module_singleton_class">test_linearizing_a_module_singleton_class</a>
                            </li>
                            <li id="right-nav-test_linearizing_a_singleton_class_with_no_attached" class="right-side-bar-element">
                              <a href="#method-i-test_linearizing_a_singleton_class_with_no_attached">test_linearizing_a_singleton_class_with_no_attached</a>
                            </li>
                            <li id="right-nav-test_linearizing_ancestors_for_non_existing_namespaces" class="right-side-bar-element">
                              <a href="#method-i-test_linearizing_ancestors_for_non_existing_namespaces">test_linearizing_ancestors_for_non_existing_namespaces</a>
                            </li>
                            <li id="right-nav-test_linearizing_ancestors_handles_circular_parent_class" class="right-side-bar-element">
                              <a href="#method-i-test_linearizing_ancestors_handles_circular_parent_class">test_linearizing_ancestors_handles_circular_parent_class</a>
                            </li>
                            <li id="right-nav-test_linearizing_ancestors_is_cached" class="right-side-bar-element">
                              <a href="#method-i-test_linearizing_ancestors_is_cached">test_linearizing_ancestors_is_cached</a>
                            </li>
                            <li id="right-nav-test_linearizing_ancestors_that_need_to_be_resolved" class="right-side-bar-element">
                              <a href="#method-i-test_linearizing_ancestors_that_need_to_be_resolved">test_linearizing_ancestors_that_need_to_be_resolved</a>
                            </li>
                            <li id="right-nav-test_linearizing_circular_aliased_dependency" class="right-side-bar-element">
                              <a href="#method-i-test_linearizing_circular_aliased_dependency">test_linearizing_circular_aliased_dependency</a>
                            </li>
                            <li id="right-nav-test_linearizing_circular_ancestors" class="right-side-bar-element">
                              <a href="#method-i-test_linearizing_circular_ancestors">test_linearizing_circular_ancestors</a>
                            </li>
                            <li id="right-nav-test_linearizing_singleton_ancestors" class="right-side-bar-element">
                              <a href="#method-i-test_linearizing_singleton_ancestors">test_linearizing_singleton_ancestors</a>
                            </li>
                            <li id="right-nav-test_linearizing_singleton_ancestors_of_singleton_when_class_has_parent" class="right-side-bar-element">
                              <a href="#method-i-test_linearizing_singleton_ancestors_of_singleton_when_class_has_parent">test_linearizing_singleton_ancestors_of_singleton_when_class_has_parent</a>
                            </li>
                            <li id="right-nav-test_linearizing_singleton_ancestors_when_class_has_parent" class="right-side-bar-element">
                              <a href="#method-i-test_linearizing_singleton_ancestors_when_class_has_parent">test_linearizing_singleton_ancestors_when_class_has_parent</a>
                            </li>
                            <li id="right-nav-test_linearizing_singleton_object" class="right-side-bar-element">
                              <a href="#method-i-test_linearizing_singleton_object">test_linearizing_singleton_object</a>
                            </li>
                            <li id="right-nav-test_object_superclass_indexing_and_resolution_with_reopened_basic_object_class" class="right-side-bar-element">
                              <a href="#method-i-test_object_superclass_indexing_and_resolution_with_reopened_basic_object_class">test_object_superclass_indexing_and_resolution_with_reopened_basic_object_class</a>
                            </li>
                            <li id="right-nav-test_object_superclass_indexing_and_resolution_with_reopened_object_class" class="right-side-bar-element">
                              <a href="#method-i-test_object_superclass_indexing_and_resolution_with_reopened_object_class">test_object_superclass_indexing_and_resolution_with_reopened_object_class</a>
                            </li>
                            <li id="right-nav-test_object_superclass_resolution" class="right-side-bar-element">
                              <a href="#method-i-test_object_superclass_resolution">test_object_superclass_resolution</a>
                            </li>
                            <li id="right-nav-test_only_aliases_for_the_right_owner_are_resolved" class="right-side-bar-element">
                              <a href="#method-i-test_only_aliases_for_the_right_owner_are_resolved">test_only_aliases_for_the_right_owner_are_resolved</a>
                            </li>
                            <li id="right-nav-test_prefix_search_for_methods" class="right-side-bar-element">
                              <a href="#method-i-test_prefix_search_for_methods">test_prefix_search_for_methods</a>
                            </li>
                            <li id="right-nav-test_resolve_method_attribute" class="right-side-bar-element">
                              <a href="#method-i-test_resolve_method_attribute">test_resolve_method_attribute</a>
                            </li>
                            <li id="right-nav-test_resolve_method_inherited_only" class="right-side-bar-element">
                              <a href="#method-i-test_resolve_method_inherited_only">test_resolve_method_inherited_only</a>
                            </li>
                            <li id="right-nav-test_resolve_method_inherited_only_for_prepended_module" class="right-side-bar-element">
                              <a href="#method-i-test_resolve_method_inherited_only_for_prepended_module">test_resolve_method_inherited_only_for_prepended_module</a>
                            </li>
                            <li id="right-nav-test_resolve_method_with_class_name_conflict" class="right-side-bar-element">
                              <a href="#method-i-test_resolve_method_with_class_name_conflict">test_resolve_method_with_class_name_conflict</a>
                            </li>
                            <li id="right-nav-test_resolve_method_with_known_receiver" class="right-side-bar-element">
                              <a href="#method-i-test_resolve_method_with_known_receiver">test_resolve_method_with_known_receiver</a>
                            </li>
                            <li id="right-nav-test_resolve_method_with_two_definitions" class="right-side-bar-element">
                              <a href="#method-i-test_resolve_method_with_two_definitions">test_resolve_method_with_two_definitions</a>
                            </li>
                            <li id="right-nav-test_resolve_normalizes_top_level_names" class="right-side-bar-element">
                              <a href="#method-i-test_resolve_normalizes_top_level_names">test_resolve_normalizes_top_level_names</a>
                            </li>
                            <li id="right-nav-test_resolving_a_qualified_reference" class="right-side-bar-element">
                              <a href="#method-i-test_resolving_a_qualified_reference">test_resolving_a_qualified_reference</a>
                            </li>
                            <li id="right-nav-test_resolving_aliases_to_non_existing_constants_with_conflicting_names" class="right-side-bar-element">
                              <a href="#method-i-test_resolving_aliases_to_non_existing_constants_with_conflicting_names">test_resolving_aliases_to_non_existing_constants_with_conflicting_names</a>
                            </li>
                            <li id="right-nav-test_resolving_an_inherited_method" class="right-side-bar-element">
                              <a href="#method-i-test_resolving_an_inherited_method">test_resolving_an_inherited_method</a>
                            </li>
                            <li id="right-nav-test_resolving_an_inherited_method_lands_on_first_match" class="right-side-bar-element">
                              <a href="#method-i-test_resolving_an_inherited_method_lands_on_first_match">test_resolving_an_inherited_method_lands_on_first_match</a>
                            </li>
                            <li id="right-nav-test_resolving_circular_alias" class="right-side-bar-element">
                              <a href="#method-i-test_resolving_circular_alias">test_resolving_circular_alias</a>
                            </li>
                            <li id="right-nav-test_resolving_circular_alias_three_levels" class="right-side-bar-element">
                              <a href="#method-i-test_resolving_circular_alias_three_levels">test_resolving_circular_alias_three_levels</a>
                            </li>
                            <li id="right-nav-test_resolving_circular_method_aliases" class="right-side-bar-element">
                              <a href="#method-i-test_resolving_circular_method_aliases">test_resolving_circular_method_aliases</a>
                            </li>
                            <li id="right-nav-test_resolving_constants_favors_ancestors_over_top_level" class="right-side-bar-element">
                              <a href="#method-i-test_resolving_constants_favors_ancestors_over_top_level">test_resolving_constants_favors_ancestors_over_top_level</a>
                            </li>
                            <li id="right-nav-test_resolving_constants_in_aliased_namespace" class="right-side-bar-element">
                              <a href="#method-i-test_resolving_constants_in_aliased_namespace">test_resolving_constants_in_aliased_namespace</a>
                            </li>
                            <li id="right-nav-test_resolving_constants_in_singleton_contexts" class="right-side-bar-element">
                              <a href="#method-i-test_resolving_constants_in_singleton_contexts">test_resolving_constants_in_singleton_contexts</a>
                            </li>
                            <li id="right-nav-test_resolving_inherited_alised_namespace" class="right-side-bar-element">
                              <a href="#method-i-test_resolving_inherited_alised_namespace">test_resolving_inherited_alised_namespace</a>
                            </li>
                            <li id="right-nav-test_resolving_inherited_constants" class="right-side-bar-element">
                              <a href="#method-i-test_resolving_inherited_constants">test_resolving_inherited_constants</a>
                            </li>
                            <li id="right-nav-test_resolving_instance_variables_in_singleton_contexts" class="right-side-bar-element">
                              <a href="#method-i-test_resolving_instance_variables_in_singleton_contexts">test_resolving_instance_variables_in_singleton_contexts</a>
                            </li>
                            <li id="right-nav-test_resolving_method_aliases" class="right-side-bar-element">
                              <a href="#method-i-test_resolving_method_aliases">test_resolving_method_aliases</a>
                            </li>
                            <li id="right-nav-test_resolving_method_inside_singleton_context" class="right-side-bar-element">
                              <a href="#method-i-test_resolving_method_inside_singleton_context">test_resolving_method_inside_singleton_context</a>
                            </li>
                            <li id="right-nav-test_resolving_prepended_constants" class="right-side-bar-element">
                              <a href="#method-i-test_resolving_prepended_constants">test_resolving_prepended_constants</a>
                            </li>
                            <li id="right-nav-test_resolving_qualified_references" class="right-side-bar-element">
                              <a href="#method-i-test_resolving_qualified_references">test_resolving_qualified_references</a>
                            </li>
                            <li id="right-nav-test_resolving_references_with_only_top_level_declaration" class="right-side-bar-element">
                              <a href="#method-i-test_resolving_references_with_only_top_level_declaration">test_resolving_references_with_only_top_level_declaration</a>
                            </li>
                            <li id="right-nav-test_resolving_references_with_redundant_namespaces" class="right-side-bar-element">
                              <a href="#method-i-test_resolving_references_with_redundant_namespaces">test_resolving_references_with_redundant_namespaces</a>
                            </li>
                            <li id="right-nav-test_resolving_same_constant_from_different_scopes" class="right-side-bar-element">
                              <a href="#method-i-test_resolving_same_constant_from_different_scopes">test_resolving_same_constant_from_different_scopes</a>
                            </li>
                            <li id="right-nav-test_resolving_top_level_aliases" class="right-side-bar-element">
                              <a href="#method-i-test_resolving_top_level_aliases">test_resolving_top_level_aliases</a>
                            </li>
                            <li id="right-nav-test_resolving_top_level_compact_reference" class="right-side-bar-element">
                              <a href="#method-i-test_resolving_top_level_compact_reference">test_resolving_top_level_compact_reference</a>
                            </li>
                            <li id="right-nav-test_resolving_unindexed_constant_with_no_nesting" class="right-side-bar-element">
                              <a href="#method-i-test_resolving_unindexed_constant_with_no_nesting">test_resolving_unindexed_constant_with_no_nesting</a>
                            </li>
                            <li id="right-nav-test_resolving_unqualified_references" class="right-side-bar-element">
                              <a href="#method-i-test_resolving_unqualified_references">test_resolving_unqualified_references</a>
                            </li>
                            <li id="right-nav-test_searching_for_entries_based_on_prefix" class="right-side-bar-element">
                              <a href="#method-i-test_searching_for_entries_based_on_prefix">test_searching_for_entries_based_on_prefix</a>
                            </li>
                            <li id="right-nav-test_searching_for_require_paths" class="right-side-bar-element">
                              <a href="#method-i-test_searching_for_require_paths">test_searching_for_require_paths</a>
                            </li>
                            <li id="right-nav-test_singletons_are_excluded_from_fuzzy_search" class="right-side-bar-element">
                              <a href="#method-i-test_singletons_are_excluded_from_fuzzy_search">test_singletons_are_excluded_from_fuzzy_search</a>
                            </li>
                            <li id="right-nav-test_singletons_are_excluded_from_prefix_search" class="right-side-bar-element">
                              <a href="#method-i-test_singletons_are_excluded_from_prefix_search">test_singletons_are_excluded_from_prefix_search</a>
                            </li>
                            <li id="right-nav-test_top_level_basic_object_superclass_resolution" class="right-side-bar-element">
                              <a href="#method-i-test_top_level_basic_object_superclass_resolution">test_top_level_basic_object_superclass_resolution</a>
                            </li>
                            <li id="right-nav-test_top_level_object_superclass_resolution" class="right-side-bar-element">
                              <a href="#method-i-test_top_level_object_superclass_resolution">test_top_level_object_superclass_resolution</a>
                            </li>
                            <li id="right-nav-test_unresolable_method_aliases" class="right-side-bar-element">
                              <a href="#method-i-test_unresolable_method_aliases">test_unresolable_method_aliases</a>
                            </li>
                            <li id="right-nav-test_visitor_does_not_visit_unnecessary_nodes" class="right-side-bar-element">
                              <a href="#method-i-test_visitor_does_not_visit_unnecessary_nodes">test_visitor_does_not_visit_unnecessary_nodes</a>
                            </li>
                        </ul>
                      </details>
                    </li>
            </li>
          </ul>
        </li>
  </nav>
</div>

</div>

<div id="search-modal">
  <div id="search-modal-content">
    <input id="search-modal-input" type="text" placeholder="Search"></input>
    <ul id="search-results"></ul>
  </div>
</div>


    <footer>
      <p>Generated by <a href="https://ruby.github.io/rdoc/">RDoc</a> 6.6.3.1
    </footer>
  </body>
</html>
